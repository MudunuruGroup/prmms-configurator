(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78a72de6"],{3521:function(e,t,r){"use strict";var o=r("eda6"),n=r.n(o);n.a},"99d9":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var o=r("b0af"),n=r("80d2"),i=Object(n["g"])("v-card__actions"),a=Object(n["g"])("v-card__subtitle"),s=Object(n["g"])("v-card__text"),c=Object(n["g"])("v-card__title");o["a"]},dd7b:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"down-top-padding",attrs:{id:"wrapper",fluid:""}},[r("div",{attrs:{id:"right"}},[r("div",{attrs:{id:"signin"}}),r("img",{staticStyle:{height:"15%",position:"absolute",top:"70%",left:"5%","background-color":"#ffffff",padding:"15px 24px 15px 24px","border-radius":"24px","z-index":"2"},attrs:{src:e.logo}})]),r("div",{attrs:{id:"left"}},[r("div",{attrs:{id:"showcase"}},[r("div",{staticClass:"showcase-content"},[r("VCard",[r("VCardText",[r("img",{staticStyle:{height:"135px","margin-bottom":"30px","object-fit":"contain !important"},attrs:{"max-width":"505",src:e.logo}}),r("p",{staticClass:"mb-0"},[e._v(" Please sign-in to your account and start the adventure ")])]),r("VCardText",[r("VForm",{ref:"refVForm",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("VRow",[r("VCol",[r("div",{staticClass:"alert-demo-v-model-wrapper"}),r("VBtn",{staticStyle:{"padding-left":"72px","padding-right":"72px","margin-left":"33px"},attrs:{type:"button"},on:{click:e.msalLogin}},[r("VImg",{staticStyle:{position:"absolute","z-index":"20",width:"21px",left:"40px"},attrs:{src:e.microsoft}}),e._v(" Sign in with MICROSOFT ")],1)],1)],1)],1)],1)],1)],1)])])])},n=[],i=(r("b0c0"),r("96cf"),r("1da1")),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},a(e,t)};function s(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){return c=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},c.apply(this,arguments)};function u(e,t,r,o){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?r(e.value):n(e.value).then(a,s)}c((o=o.apply(e,t||[])).next())}))}function l(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,o&&(n=2&i[0]?o["return"]:i[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function h(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o}var d,p=function(){function e(){}return e.createNewGuid=function(){var t=window.crypto;if(t&&t.getRandomValues){var r=new Uint8Array(16);return t.getRandomValues(r),r[6]|=64,r[6]&=79,r[8]|=128,r[8]&=191,e.decimalToHex(r[0])+e.decimalToHex(r[1])+e.decimalToHex(r[2])+e.decimalToHex(r[3])+"-"+e.decimalToHex(r[4])+e.decimalToHex(r[5])+"-"+e.decimalToHex(r[6])+e.decimalToHex(r[7])+"-"+e.decimalToHex(r[8])+e.decimalToHex(r[9])+"-"+e.decimalToHex(r[10])+e.decimalToHex(r[11])+e.decimalToHex(r[12])+e.decimalToHex(r[13])+e.decimalToHex(r[14])+e.decimalToHex(r[15])}for(var o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="0123456789abcdef",i=0,a="",s=0;s<36;s++)"-"!==o[s]&&"4"!==o[s]&&(i=16*Math.random()|0),"x"===o[s]?a+=n[i]:"y"===o[s]?(i&=3,i|=8,a+=n[i]):a+=o[s];return a},e.isGuid=function(e){var t=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return t.test(e)},e.decimalToHex=function(e){var t=e.toString(16);while(t.length<2)t="0"+t;return t},e.base64Encode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))},e.base64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}return decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},e.deserialize=function(e){var t,r=/\+/g,o=/([^&=]+)=([^&]*)/g,n=function(e){return decodeURIComponent(e.replace(r," "))},i={};t=o.exec(e);while(t)i[n(t[1])]=n(t[2]),t=o.exec(e);return i},e}(),g=function(){function e(){}return Object.defineProperty(e,"libraryName",{get:function(){return"Msal.js"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"claims",{get:function(){return"claims"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"clientId",{get:function(){return"clientId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adalIdToken",{get:function(){return"adal.idtoken"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachePrefix",{get:function(){return"msal"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scopes",{get:function(){return"scopes"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"no_account",{get:function(){return"NO_ACCOUNT"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"upn",{get:function(){return"upn"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"domain_hint",{get:function(){return"domain_hint"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"prompt_select_account",{get:function(){return"&prompt=select_account"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"prompt_none",{get:function(){return"&prompt=none"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"prompt",{get:function(){return"prompt"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"response_mode_fragment",{get:function(){return"&response_mode=fragment"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resourceDelimiter",{get:function(){return"|"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cacheDelimiter",{get:function(){return"."},enumerable:!1,configurable:!0}),Object.defineProperty(e,"popUpWidth",{get:function(){return this._popUpWidth},set:function(e){this._popUpWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"popUpHeight",{get:function(){return this._popUpHeight},set:function(e){this._popUpHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"login",{get:function(){return"LOGIN"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renewToken",{get:function(){return"RENEW_TOKEN"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"unknown",{get:function(){return"UNKNOWN"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ADFS",{get:function(){return"adfs"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"homeAccountIdentifier",{get:function(){return"homeAccountIdentifier"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"common",{get:function(){return"common"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"openidScope",{get:function(){return"openid"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"profileScope",{get:function(){return"profile"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"oidcScopes",{get:function(){return[this.openidScope,this.profileScope]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interactionTypeRedirect",{get:function(){return"redirectInteraction"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interactionTypePopup",{get:function(){return"popupInteraction"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interactionTypeSilent",{get:function(){return"silentInteraction"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inProgress",{get:function(){return"inProgress"},enumerable:!1,configurable:!0}),e._popUpWidth=483,e._popUpHeight=600,e}(),f="sessionStorage";(function(e){e["SCOPE"]="scope",e["STATE"]="state",e["ERROR"]="error",e["ERROR_DESCRIPTION"]="error_description",e["ACCESS_TOKEN"]="access_token",e["ID_TOKEN"]="id_token",e["EXPIRES_IN"]="expires_in",e["SESSION_STATE"]="session_state",e["CLIENT_INFO"]="client_info"})(d||(d={}));var m,y,v,I={id_token:"id_token",token:"token",id_token_token:"id_token token"};(function(e){e["AUTHORITY"]="authority",e["ACQUIRE_TOKEN_ACCOUNT"]="acquireTokenAccount",e["SESSION_STATE"]="session.state",e["STATE_LOGIN"]="state.login",e["STATE_ACQ_TOKEN"]="state.acquireToken",e["STATE_RENEW"]="state.renew",e["NONCE_IDTOKEN"]="nonce.idtoken",e["LOGIN_REQUEST"]="login.request",e["RENEW_STATUS"]="token.renew.status",e["URL_HASH"]="urlHash",e["INTERACTION_STATUS"]="interaction.status",e["REDIRECT_REQUEST"]="redirect_request"})(m||(m={})),function(e){e["IDTOKEN"]="idtoken",e["CLIENT_INFO"]="client.info"}(y||(y={})),function(e){e["LOGIN_ERROR"]="login.error",e["ERROR"]="error",e["ERROR_DESC"]="error.description"}(v||(v={}));var b,T="https://login.microsoftonline.com/common/",E=T+"/discovery/instance?api-version=1.1&authorization_endpoint=",w=".well-known/openid-configuration";(function(e){e["ACCOUNT"]="account",e["SID"]="sid",e["LOGIN_HINT"]="login_hint",e["ORGANIZATIONS"]="organizations",e["CONSUMERS"]="consumers",e["ID_TOKEN"]="id_token",e["ACCOUNT_ID"]="accountIdentifier",e["HOMEACCOUNT_ID"]="homeAccountIdentifier"})(b||(b={}));var S,C=[b.SID,b.LOGIN_HINT],k={GET:"GET",POST:"POST"},A={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none"},R={ID_TOKEN_FRAME:"msalIdTokenFrame",TOKEN_FRAME:"msalRenewFrame"},_={unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."},noWindowObjectError:{code:"no_window_object",desc:"No window object available. Details:"}},O=function(e){function t(r,o){var n=e.call(this,o)||this;return Object.setPrototypeOf(n,t.prototype),n.errorCode=r,n.errorMessage=o,n.name="AuthError",n}return s(t,e),t.createUnexpectedError=function(e){return new t(_.unexpectedError.code,_.unexpectedError.desc+": "+e)},t.createNoWindowObjectError=function(e){return new t(_.noWindowObjectError.code,_.noWindowObjectError.desc+" "+e)},t}(Error),P=function(){function e(){}return e.isEmpty=function(e){return"undefined"===typeof e||!e||0===e.length},e.validateAndParseJsonCacheKey=function(e){try{var t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(r){return null}},e}(),N={endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},popUpWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},tokenRenewalError:{code:"token_renewal_error",desc:"Token renewal operation failed due to timeout."},invalidIdToken:{code:"invalid_id_token",desc:"Invalid ID token format."},invalidStateError:{code:"invalid_state_error",desc:"Invalid state."},nonceMismatchError:{code:"nonce_mismatch_error",desc:"Nonce is not matching, Nonce received: "},loginProgressError:{code:"login_progress_error",desc:"Login_In_Progress: Error during login call - login is already in progress."},acquireTokenProgressError:{code:"acquiretoken_progress_error",desc:"AcquireToken_In_Progress: Error during login call - login is already in progress."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},callbackError:{code:"callback_error",desc:"Error occurred in token received callback function."},userLoginRequiredError:{code:"user_login_error",desc:"User login is required. For silent calls, request must contain either sid or login_hint"},userDoesNotExistError:{code:"user_non_existent",desc:"User object does not exist. Please call a login API."},clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoNotPopulatedError:{code:"client_info_not_populated_error",desc:"The service did not populate client_info in the response, Please verify with the service team"},nullOrEmptyIdToken:{code:"null_or_empty_id_token",desc:"The idToken is null or empty. Please review the trace to determine the root cause."},idTokenNotParsed:{code:"id_token_parsing_error",desc:"ID token cannot be parsed. Please review stack trace to determine root cause."},tokenEncodingError:{code:"token_encoding_error",desc:"The token to be decoded is not encoded correctly."},invalidInteractionType:{code:"invalid_interaction_type",desc:"The interaction type passed to the handler was incorrect or unknown"},cacheParseError:{code:"cannot_parse_cache",desc:"The cached token key is not a valid JSON and cannot be parsed"},blockTokenRequestsInHiddenIframe:{code:"block_token_requests",desc:"Token calls are blocked in hidden iframes"}},U=function(e){function t(r,o){var n=e.call(this,r,o)||this;return n.name="ClientAuthError",Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t.createEndpointResolutionError=function(e){var r=N.endpointResolutionError.desc;return e&&!P.isEmpty(e)&&(r+=" Details: "+e),new t(N.endpointResolutionError.code,r)},t.createPopupWindowError=function(e){var r=N.popUpWindowError.desc;return e&&!P.isEmpty(e)&&(r+=" Details: "+e),new t(N.popUpWindowError.code,r)},t.createTokenRenewalTimeoutError=function(){return new t(N.tokenRenewalError.code,N.tokenRenewalError.desc)},t.createInvalidIdTokenError=function(e){return new t(N.invalidIdToken.code,N.invalidIdToken.desc+" Given token: "+e)},t.createInvalidStateError=function(e,r){return new t(N.invalidStateError.code,N.invalidStateError.desc+" "+e+", state expected : "+r+".")},t.createNonceMismatchError=function(e,r){return new t(N.nonceMismatchError.code,N.nonceMismatchError.desc+" "+e+", nonce expected : "+r+".")},t.createLoginInProgressError=function(){return new t(N.loginProgressError.code,N.loginProgressError.desc)},t.createAcquireTokenInProgressError=function(){return new t(N.acquireTokenProgressError.code,N.acquireTokenProgressError.desc)},t.createUserCancelledError=function(){return new t(N.userCancelledError.code,N.userCancelledError.desc)},t.createErrorInCallbackFunction=function(e){return new t(N.callbackError.code,N.callbackError.desc+" "+e+".")},t.createUserLoginRequiredError=function(){return new t(N.userLoginRequiredError.code,N.userLoginRequiredError.desc)},t.createUserDoesNotExistError=function(){return new t(N.userDoesNotExistError.code,N.userDoesNotExistError.desc)},t.createClientInfoDecodingError=function(e){return new t(N.clientInfoDecodingError.code,N.clientInfoDecodingError.desc+" Failed with error: "+e)},t.createClientInfoNotPopulatedError=function(e){return new t(N.clientInfoNotPopulatedError.code,N.clientInfoNotPopulatedError.desc+" Failed with error: "+e)},t.createIdTokenNullOrEmptyError=function(e){return new t(N.nullOrEmptyIdToken.code,N.nullOrEmptyIdToken.desc+" Raw ID Token Value: "+e)},t.createIdTokenParsingError=function(e){return new t(N.idTokenNotParsed.code,N.idTokenNotParsed.desc+" Failed with error: "+e)},t.createTokenEncodingError=function(e){return new t(N.tokenEncodingError.code,N.tokenEncodingError.desc+" Attempted to decode: "+e)},t.createInvalidInteractionTypeError=function(){return new t(N.invalidInteractionType.code,N.invalidInteractionType.desc)},t.createCacheParseError=function(e){var r="invalid key: "+e+", "+N.cacheParseError.desc;return new t(N.cacheParseError.code,r)},t.createBlockTokenRequestsInHiddenIframeError=function(){return new t(N.blockTokenRequestsInHiddenIframe.code,N.blockTokenRequestsInHiddenIframe.desc)},t}(O),x={configurationNotSet:{code:"no_config_set",desc:"Configuration has not been set. Please call the UserAgentApplication constructor with a valid Configuration object."},storageNotSupported:{code:"storage_not_supported",desc:"The value for the cacheLocation is not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call handleRedirectCallback() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},scopesRequired:{code:"scopes_required",desc:"Scopes are required to obtain an access token."},emptyScopes:{code:"empty_input_scopes_error",desc:"Scopes cannot be passed as empty array."},nonArrayScopes:{code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},invalidPrompt:{code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent' and 'none'"},invalidAuthorityType:{code:"invalid_authority_type",desc:"The given authority is not a valid type of authority supported by MSAL. Please see here for valid authorities: <insert URL here>."},authorityUriInsecure:{code:"authority_uri_insecure",desc:"Authority URIs must use https."},authorityUriInvalidPath:{code:"authority_uri_invalid_path",desc:"Given authority URI is invalid."},unsupportedAuthorityValidation:{code:"unsupported_authority_validation",desc:"The authority validation is not supported for this authority type."},untrustedAuthority:{code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter or set validateAuthority=false."},b2cAuthorityUriInvalidPath:{code:"b2c_authority_uri_invalid_path",desc:"The given URI for the B2C authority is invalid."},b2cKnownAuthoritiesNotSet:{code:"b2c_known_authorities_not_set",desc:"Must set known authorities when validateAuthority is set to True and using B2C"},claimsRequestParsingError:{code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},emptyRequestError:{code:"empty_request_error",desc:"Request object is required."},invalidCorrelationIdError:{code:"invalid_guid_sent_as_correlationId",desc:"Please set the correlationId as a valid guid"},telemetryConfigError:{code:"telemetry_config_error",desc:"Telemetry config is not configured with required values"},ssoSilentError:{code:"sso_silent_error",desc:"request must contain either sid or login_hint"},invalidAuthorityMetadataError:{code:"authority_metadata_error",desc:"Invalid authorityMetadata. Must be a JSON object containing authorization_endpoint, end_session_endpoint, and issuer fields."}},L=function(e){function t(r,o){var n=e.call(this,r,o)||this;return n.name="ClientConfigurationError",Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t.createNoSetConfigurationError=function(){return new t(x.configurationNotSet.code,""+x.configurationNotSet.desc)},t.createStorageNotSupportedError=function(e){return new t(x.storageNotSupported.code,x.storageNotSupported.desc+" Given location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(x.noRedirectCallbacksSet.code,x.noRedirectCallbacksSet.desc)},t.createInvalidCallbackObjectError=function(e){return new t(x.invalidCallbackObject.code,x.invalidCallbackObject.desc+" Given value for callback function: "+e)},t.createEmptyScopesArrayError=function(e){return new t(x.emptyScopes.code,x.emptyScopes.desc+" Given value: "+e+".")},t.createScopesNonArrayError=function(e){return new t(x.nonArrayScopes.code,x.nonArrayScopes.desc+" Given value: "+e+".")},t.createScopesRequiredError=function(e){return new t(x.scopesRequired.code,x.scopesRequired.desc+" Given value: "+e)},t.createInvalidPromptError=function(e){return new t(x.invalidPrompt.code,x.invalidPrompt.desc+" Given value: "+e)},t.createClaimsRequestParsingError=function(e){return new t(x.claimsRequestParsingError.code,x.claimsRequestParsingError.desc+" Given value: "+e)},t.createEmptyRequestError=function(){var e=x.emptyRequestError,r=e.code,o=e.desc;return new t(r,o)},t.createInvalidCorrelationIdError=function(){return new t(x.invalidCorrelationIdError.code,x.invalidCorrelationIdError.desc)},t.createKnownAuthoritiesNotSetError=function(){return new t(x.b2cKnownAuthoritiesNotSet.code,x.b2cKnownAuthoritiesNotSet.desc)},t.createInvalidAuthorityTypeError=function(){return new t(x.invalidAuthorityType.code,x.invalidAuthorityType.desc)},t.createUntrustedAuthorityError=function(e){return new t(x.untrustedAuthority.code,x.untrustedAuthority.desc+" Provided Authority: "+e)},t.createTelemetryConfigError=function(e){var r=x.telemetryConfigError,o=r.code,n=r.desc,i={applicationName:"string",applicationVersion:"string",telemetryEmitter:"function"},a=Object.keys(i).reduce((function(t,r){return e[r]?t:t.concat([r+" ("+i[r]+")"])}),[]);return new t(o,n+" mising values: "+a.join(","))},t.createSsoSilentError=function(){return new t(x.ssoSilentError.code,x.ssoSilentError.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(x.invalidAuthorityMetadataError.code,x.invalidAuthorityMetadataError.desc)},t}(U),q=function(){function e(){}return e.isIntersectingScopes=function(e,t){for(var r=this.trimAndConvertArrayToLowerCase(h(e)),o=this.trimAndConvertArrayToLowerCase(h(t)),n=0;n<o.length;n++)if(r.indexOf(o[n].toLowerCase())>-1)return!0;return!1},e.containsScope=function(e,t){var r=this.trimAndConvertArrayToLowerCase(h(e)),o=this.trimAndConvertArrayToLowerCase(h(t));return o.every((function(e){return r.indexOf(e.toString().toLowerCase())>=0}))},e.trimAndConvertToLowerCase=function(e){return e.trim().toLowerCase()},e.trimAndConvertArrayToLowerCase=function(e){var t=this;return e.map((function(e){return t.trimAndConvertToLowerCase(e)}))},e.trimScopes=function(e){return e.map((function(e){return e.trim()}))},e.removeElement=function(e,t){var r=this.trimAndConvertToLowerCase(t);return e.filter((function(e){return e!==r}))},e.parseScope=function(e){var t="";if(e)for(var r=0;r<e.length;++r)t+=r!==e.length-1?e[r]+" ":e[r];return t},e.validateInputScope=function(e,t){if(e){if(!Array.isArray(e))throw L.createScopesNonArrayError(e);if(e.length<1&&t)throw L.createEmptyScopesArrayError(e.toString())}else if(t)throw L.createScopesRequiredError(e)},e.getScopeFromState=function(e){if(e){var t=e.indexOf(g.resourceDelimiter);if(t>-1&&t+1<e.length)return e.substring(t+1)}return""},e.appendScopes=function(e,t){if(e){var r=t?this.trimAndConvertArrayToLowerCase(h(t)):null,o=this.trimAndConvertArrayToLowerCase(h(e));return r?h(o,r):o}return null},e.onlyContainsOidcScopes=function(e){var t=e.length,r=0;return e.indexOf(g.openidScope)>-1&&(r+=1),e.indexOf(g.profileScope)>-1&&(r+=1),t>0&&t===r},e.containsAnyOidcScopes=function(e){var t=e.indexOf(g.openidScope)>-1,r=e.indexOf(g.profileScope)>-1;return t||r},e.onlyContainsClientId=function(e,t){return!!e&&e.indexOf(t)>-1&&1===e.length},e.appendDefaultScopes=function(e){var t=e;return-1===t.indexOf(g.openidScope)&&t.push(g.openidScope),-1===t.indexOf(g.profileScope)&&t.push(g.profileScope),t},e.removeDefaultScopes=function(e){return e.filter((function(e){return e!==g.openidScope&&e!==g.profileScope}))},e.translateClientIdIfSingleScope=function(e,t){return this.onlyContainsClientId(e,t)?g.oidcScopes:e},e}(),M=function(){function e(){}return e.createNavigateUrl=function(e){var t=this.createNavigationUrlString(e),r=e.authorityInstance.AuthorizationEndpoint;r.indexOf("?")<0?r+="?":r+="&";var o=""+r+t.join("&");return o},e.createNavigationUrlString=function(e){var t=q.appendDefaultScopes(e.scopes),r=[];return r.push("response_type="+e.responseType),r.push("scope="+encodeURIComponent(q.parseScope(t))),r.push("client_id="+encodeURIComponent(e.clientId)),r.push("redirect_uri="+encodeURIComponent(e.redirectUri)),r.push("state="+encodeURIComponent(e.state)),r.push("nonce="+encodeURIComponent(e.nonce)),r.push("client_info=1"),r.push("x-client-SKU="+e.xClientSku),r.push("x-client-Ver="+e.xClientVer),e.promptValue&&r.push("prompt="+encodeURIComponent(e.promptValue)),e.claimsValue&&r.push("claims="+encodeURIComponent(e.claimsValue)),e.queryParameters&&r.push(e.queryParameters),e.extraQueryParameters&&r.push(e.extraQueryParameters),r.push("client-request-id="+encodeURIComponent(e.correlationId)),r},e.getCurrentUrl=function(){return window.location.href.split("?")[0].split("#")[0]},e.removeHashFromUrl=function(e){return e.split("#")[0]},e.replaceTenantPath=function(e,t){var r=e.toLowerCase(),o=this.GetUrlComponents(r),n=o.PathSegments;return!t||0===n.length||n[0]!==g.common&&n[0]!==b.ORGANIZATIONS&&n[0]!==b.CONSUMERS||(n[0]=t),this.constructAuthorityUriFromObject(o,n)},e.constructAuthorityUriFromObject=function(e,t){return this.CanonicalizeUri(e.Protocol+"//"+e.HostNameAndPort+"/"+t.join("/"))},e.isCommonAuthority=function(e){var t=this.CanonicalizeUri(e),r=this.GetUrlComponents(t).PathSegments;return 0!==r.length&&r[0]===g.common},e.isOrganizationsAuthority=function(e){var t=this.CanonicalizeUri(e),r=this.GetUrlComponents(t).PathSegments;return 0!==r.length&&r[0]===b.ORGANIZATIONS},e.isConsumersAuthority=function(e){var t=this.CanonicalizeUri(e),r=this.GetUrlComponents(t).PathSegments;return 0!==r.length&&r[0]===b.CONSUMERS},e.GetUrlComponents=function(e){if(!e)throw"Url required";var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=e.match(t);if(!r||r.length<6)throw"Valid url required";var o={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5]},n=o.AbsolutePath.split("/");return n=n.filter((function(e){return e&&e.length>0})),o.PathSegments=n,r[6]&&(o.Search=r[6]),r[8]&&(o.Hash=r[8]),o},e.CanonicalizeUri=function(t){if(t){var r=t.toLowerCase();return e.endsWith(r,"/")||(r+="/"),r}return t},e.endsWith=function(e,t){return!(!e||!t)&&-1!==e.indexOf(t,e.length-t.length)},e.urlRemoveQueryStringParameter=function(e,t){if(P.isEmpty(e))return e;var r=e,o=new RegExp("(\\&"+t+"=)[^&]+");return r=e.replace(o,""),o=new RegExp("("+t+"=)[^&]+&"),r=e.replace(o,""),o=new RegExp("("+t+"=)[^&]+"),r=e.replace(o,""),r},e.getHashFromUrl=function(e){var t=e.indexOf("#"),r=e.indexOf("#/");return r>-1?e.substring(r+2):t>-1?e.substring(t+1):e},e.urlContainsHash=function(t){var r=e.deserializeHash(t);return r.hasOwnProperty(d.ERROR_DESCRIPTION)||r.hasOwnProperty(d.ERROR)||r.hasOwnProperty(d.ACCESS_TOKEN)||r.hasOwnProperty(d.ID_TOKEN)},e.deserializeHash=function(t){var r=e.getHashFromUrl(t);return p.deserialize(r)},e.getHostFromUri=function(e){var t=String(e).replace(/^(https?:)\/\//,"");return t=t.split("/")[0],t},e}(),D=function(){function e(e,t,r,o,n){this.authority=M.CanonicalizeUri(e),this.clientId=t,this.scopes=r,this.homeAccountIdentifier=p.base64Encode(o)+"."+p.base64Encode(n)}return e}(),H=function(){function e(e,t,r,o){this.accessToken=e,this.idToken=t,this.expiresIn=r,this.homeAccountIdentifier=o}return e}(),j="1.4.18",K=function(){function e(e,t,r,o,n,i,a){this.authorityInstance=e,this.clientId=t,this.nonce=p.createNewGuid(),this.scopes=n?h(n):g.oidcScopes,this.scopes=q.trimScopes(this.scopes),this.state=i,this.correlationId=a,this.xClientSku="MSAL.JS",this.xClientVer=j,this.responseType=r,this.redirectUri=o}return Object.defineProperty(e.prototype,"authority",{get:function(){return this.authorityInstance?this.authorityInstance.CanonicalAuthority:null},enumerable:!1,configurable:!0}),e.prototype.populateQueryParams=function(t,r,o,n){var i={};r&&(r.prompt&&(this.promptValue=r.prompt),r.claimsRequest&&(this.claimsValue=r.claimsRequest),e.isSSOParam(r)&&(i=this.constructUnifiedCacheQueryParameter(r,null))),o&&(i=this.constructUnifiedCacheQueryParameter(null,o)),i=this.addHintParameters(t,i);var a=r?r.extraQueryParameters:null;this.queryParameters=e.generateQueryParametersString(i),this.extraQueryParameters=e.generateQueryParametersString(a,n)},e.prototype.constructUnifiedCacheQueryParameter=function(e,t){var r,o,n,i={};if(e)if(e.account){var a=e.account;(null===(r=a.idTokenClaims)||void 0===r?void 0:r.login_hint)?(o=b.LOGIN_HINT,n=a.idTokenClaims.login_hint):a.sid?(o=b.SID,n=a.sid):a.userName&&(o=b.LOGIN_HINT,n=a.userName)}else e.sid?(o=b.SID,n=e.sid):e.loginHint&&(o=b.LOGIN_HINT,n=e.loginHint);else t&&t.hasOwnProperty(g.upn)&&(o=b.ID_TOKEN,n=t["upn"]);return i=this.addSSOParameter(o,n),i},e.prototype.addHintParameters=function(e,t){var r,o,n=t;return e&&(n[b.SID]||n[b.LOGIN_HINT]||((null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint)?n=this.addSSOParameter(b.LOGIN_HINT,null===(o=e.idTokenClaims)||void 0===o?void 0:o.login_hint,n):e.sid&&this.promptValue===A.NONE?n=this.addSSOParameter(b.SID,e.sid,n):e.userName&&(n=this.addSSOParameter(b.LOGIN_HINT,e.userName,n)))),n},e.prototype.addSSOParameter=function(e,t,r){var o=r||{};if(!t)return o;switch(e){case b.SID:o[b.SID]=t;break;case b.ID_TOKEN:o[b.LOGIN_HINT]=t;break;case b.LOGIN_HINT:o[b.LOGIN_HINT]=t;break}return o},e.generateQueryParametersString=function(e,t){var r=null;return e&&Object.keys(e).forEach((function(o){o===g.domain_hint&&(t||e[b.SID])||(r?r+="&"+o+"="+encodeURIComponent(e[o]):r=o+"="+encodeURIComponent(e[o]))})),r},e.isSSOParam=function(e){return!(!e||!(e.account||e.sid||e.loginHint))},e.determineResponseType=function(e,t){return q.onlyContainsOidcScopes(t)?I.id_token:e?this.responseTypeForMatchingAccounts(t):I.id_token_token},e.responseTypeForMatchingAccounts=function(e){return q.containsAnyOidcScopes(e)?I.id_token_token:I.token},e}(),F=function(){function e(){}return e.prototype.sendRequestAsync=function(e,t,r){var o=this;return new Promise((function(r,n){var i=new XMLHttpRequest;if(i.open(t,e,!0),i.onload=function(){var e;(i.status<200||i.status>=300)&&n(o.handleError(i.responseText));try{e=JSON.parse(i.responseText)}catch(a){n(o.handleError(i.responseText))}var t={statusCode:i.status,body:e};r(t)},i.onerror=function(){n(i.status)},t!==k.GET)throw"not implemented";i.send()}))},e.prototype.handleError=function(e){var t;try{if(t=JSON.parse(e),t["error"])return t["error"];throw e}catch(r){return e}},e}(),G=function(){function e(){}return e.setTrustedAuthoritiesFromConfig=function(t,r){t&&!this.getTrustedHostList().length&&r.forEach((function(t){e.TrustedHostList.push(t.toLowerCase())}))},e.getAliases=function(e,t,r){return u(this,void 0,void 0,(function(){var o,n,i,a;return l(this,(function(s){return o=new F,n=k.GET,i=""+E+e+"oauth2/v2.0/authorize",a=t.createAndStartHttpEvent(r,n,i,"getAliases"),[2,o.sendRequestAsync(i,n,!0).then((function(e){return a.httpResponseStatus=e.statusCode,t.stopEvent(a),e.body["metadata"]})).catch((function(e){throw a.serverErrorCode=e,t.stopEvent(a),e}))]}))}))},e.setTrustedAuthoritiesFromNetwork=function(t,r,o){return u(this,void 0,void 0,(function(){var n,i;return l(this,(function(a){switch(a.label){case 0:return[4,this.getAliases(t,r,o)];case 1:return n=a.sent(),n.forEach((function(t){var r=t["aliases"];r.forEach((function(t){e.TrustedHostList.push(t.toLowerCase())}))})),i=M.GetUrlComponents(t).HostNameAndPort,e.getTrustedHostList().length&&!e.IsInTrustedHostList(i)&&e.TrustedHostList.push(i.toLowerCase()),[2]}}))}))},e.getTrustedHostList=function(){return this.TrustedHostList},e.IsInTrustedHostList=function(e){return this.TrustedHostList.indexOf(e.toLowerCase())>-1},e.TrustedHostList=[],e}();(function(e){e[e["Default"]=0]="Default",e[e["Adfs"]=1]="Adfs"})(S||(S={}));var V,W=function(){function e(e,t,r){this.IsValidationEnabled=t,this.CanonicalAuthority=e,this.validateAsUri(),this.tenantDiscoveryResponse=r}return e.isAdfs=function(e){var t=M.GetUrlComponents(e),r=t.PathSegments;return r.length&&r[0].toLowerCase()===g.ADFS},Object.defineProperty(e.prototype,"AuthorityType",{get:function(){return e.isAdfs(this.canonicalAuthority)?S.Adfs:S.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Tenant",{get:function(){return this.CanonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AuthorizationEndpoint",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.AuthorizationEndpoint.replace(/{tenant}|{tenantid}/g,this.Tenant)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"EndSessionEndpoint",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.EndSessionEndpoint.replace(/{tenant}|{tenantid}/g,this.Tenant)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SelfSignedJwtAudience",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.Issuer.replace(/{tenant}|{tenantid}/g,this.Tenant)},enumerable:!1,configurable:!0}),e.prototype.validateResolved=function(){if(!this.hasCachedMetadata())throw"Please call ResolveEndpointsAsync first"},Object.defineProperty(e.prototype,"CanonicalAuthority",{get:function(){return this.canonicalAuthority},set:function(e){this.canonicalAuthority=M.CanonicalizeUri(e),this.canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CanonicalAuthorityUrlComponents",{get:function(){return this.canonicalAuthorityUrlComponents||(this.canonicalAuthorityUrlComponents=M.GetUrlComponents(this.CanonicalAuthority)),this.canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DefaultOpenIdConfigurationEndpoint",{get:function(){return this.AuthorityType===S.Adfs?""+this.CanonicalAuthority+w:this.CanonicalAuthority+"v2.0/"+w},enumerable:!1,configurable:!0}),e.prototype.validateAsUri=function(){var e;try{e=this.CanonicalAuthorityUrlComponents}catch(t){throw x.invalidAuthorityType}if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw x.authorityUriInsecure;if(!e.PathSegments||e.PathSegments.length<1)throw x.authorityUriInvalidPath},e.prototype.DiscoverEndpoints=function(e,t,r){var o=new F,n=k.GET,i=t.createAndStartHttpEvent(r,n,e,"openIdConfigurationEndpoint");return o.sendRequestAsync(e,n,!0).then((function(e){return i.httpResponseStatus=e.statusCode,t.stopEvent(i),{AuthorizationEndpoint:e.body["authorization_endpoint"],EndSessionEndpoint:e.body["end_session_endpoint"],Issuer:e.body["issuer"]}})).catch((function(e){throw i.serverErrorCode=e,t.stopEvent(i),e}))},e.prototype.resolveEndpointsAsync=function(e,t){return u(this,void 0,void 0,(function(){var r,o,n;return l(this,(function(i){switch(i.label){case 0:return this.IsValidationEnabled?(r=this.canonicalAuthorityUrlComponents.HostNameAndPort,0!==G.getTrustedHostList().length?[3,2]:[4,G.setTrustedAuthoritiesFromNetwork(this.canonicalAuthority,e,t)]):[3,3];case 1:i.sent(),i.label=2;case 2:if(!G.IsInTrustedHostList(r))throw L.createUntrustedAuthorityError(r);i.label=3;case 3:return o=this.GetOpenIdConfigurationEndpoint(),n=this,[4,this.DiscoverEndpoints(o,e,t)];case 4:return n.tenantDiscoveryResponse=i.sent(),[2,this.tenantDiscoveryResponse]}}))}))},e.prototype.hasCachedMetadata=function(){return!!(this.tenantDiscoveryResponse&&this.tenantDiscoveryResponse.AuthorizationEndpoint&&this.tenantDiscoveryResponse.EndSessionEndpoint&&this.tenantDiscoveryResponse.Issuer)},e.prototype.GetOpenIdConfigurationEndpoint=function(){return this.DefaultOpenIdConfigurationEndpoint},e}(),B=function(){function e(t,r){if(!t||P.isEmpty(t))return this.uid="",void(this.utid="");try{var o=p.base64Decode(t),n=JSON.parse(o);n&&(n.hasOwnProperty("uid")&&(this.uid=r?e.stripPolicyFromUid(n.uid,r):n.uid),n.hasOwnProperty("utid")&&(this.utid=n.utid))}catch(i){throw U.createClientInfoDecodingError(i)}}return Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid?this._uid:""},set:function(e){this._uid=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"utid",{get:function(){return this._utid?this._utid:""},set:function(e){this._utid=e},enumerable:!1,configurable:!0}),e.createClientInfoFromIdToken=function(t,r){var o={uid:t.subject,utid:""};return new e(p.base64Encode(JSON.stringify(o)),r)},e.stripPolicyFromUid=function(e,t){var r=e.split("-"),o=t.split("/").reverse(),n="";return P.isEmpty(o[0])?o.length>1&&(n=o[1]):n=o[0],r[r.length-1]===n?r.slice(0,r.length-1).join("-"):e},e.prototype.encodeClientInfo=function(){var e=JSON.stringify({uid:this.uid,utid:this.utid});return p.base64Encode(e)},e}(),Q=function(){function e(){}return e.parseExpiresIn=function(e){var t=e||"3599";return parseInt(t,10)},e.now=function(){return Math.round((new Date).getTime()/1e3)},e.relativeNowMs=function(){return window.performance.now()},e}(),z=function(){function e(){}return e.decodeJwt=function(e){if(P.isEmpty(e))return null;var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/,r=t.exec(e);if(!r||r.length<4)return null;var o={header:r[1],JWSPayload:r[2],JWSSig:r[3]};return o},e.validateExpirationIsWithinOffset=function(e,t){var r=t||300;return e&&e>Q.now()+r},e.extractIdToken=function(e){var t=this.decodeJwt(e);if(!t)return null;try{var r=t["JWSPayload"],o=p.base64Decode(r);return o?JSON.parse(o):null}catch(n){}return null},e}(),J=function(){function e(e){if(P.isEmpty(e))throw U.createIdTokenNullOrEmptyError(e);try{this.rawIdToken=e,this.claims=z.extractIdToken(e),this.claims&&(this.claims.hasOwnProperty("iss")&&(this.issuer=this.claims["iss"]),this.claims.hasOwnProperty("oid")&&(this.objectId=this.claims["oid"]),this.claims.hasOwnProperty("sub")&&(this.subject=this.claims["sub"]),this.claims.hasOwnProperty("tid")&&(this.tenantId=this.claims["tid"]),this.claims.hasOwnProperty("ver")&&(this.version=this.claims["ver"]),this.claims.hasOwnProperty("preferred_username")?this.preferredName=this.claims["preferred_username"]:this.claims.hasOwnProperty("upn")&&(this.preferredName=this.claims["upn"]),this.claims.hasOwnProperty("name")&&(this.name=this.claims["name"]),this.claims.hasOwnProperty("nonce")&&(this.nonce=this.claims["nonce"]),this.claims.hasOwnProperty("exp")&&(this.expiration=this.claims["exp"]),this.claims.hasOwnProperty("home_oid")&&(this.homeObjectId=this.claims["home_oid"]),this.claims.hasOwnProperty("sid")&&(this.sid=this.claims["sid"]),this.claims.hasOwnProperty("cloud_instance_host_name")&&(this.cloudInstance=this.claims["cloud_instance_host_name"]))}catch(t){throw U.createIdTokenParsingError(t)}}return e}(),Y=function(){function e(e,t){this.key=e,this.value=t}return e}(),$=function(){function e(e){if(!window)throw O.createNoWindowObjectError("Browser storage class could not find window object");var t="undefined"!==typeof window[e]&&null!==window[e];if(!t)throw L.createStorageNotSupportedError(e);this.cacheLocation=e}return e.prototype.setItem=function(e,t,r){window[this.cacheLocation].setItem(e,t),r&&this.setItemCookie(e,t)},e.prototype.getItem=function(e,t){return t&&this.getItemCookie(e)?this.getItemCookie(e):window[this.cacheLocation].getItem(e)},e.prototype.removeItem=function(e){return window[this.cacheLocation].removeItem(e)},e.prototype.clear=function(){return window[this.cacheLocation].clear()},e.prototype.setItemCookie=function(e,t,r){var o=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;";if(r){var n=this.getCookieExpirationTime(r);o+="expires="+n+";"}document.cookie=o},e.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){var n=r[o];while(" "===n.charAt(0))n=n.substring(1);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return""},e.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},e.prototype.getCookieExpirationTime=function(e){var t=new Date,r=new Date(t.getTime()+24*e*60*60*1e3);return r.toUTCString()},e}(),X=function(){function e(){}return e.validateRequest=function(e,t,r,o){if(!t&&!e)throw L.createEmptyRequestError();var n,i;e&&(n=t?q.appendScopes(e.scopes,e.extraScopesToConsent):e.scopes,q.validateInputScope(n,!t),n=q.translateClientIdIfSingleScope(n,r),this.validatePromptParameter(e.prompt),i=this.validateEQParameters(e.extraQueryParameters,e.claimsRequest),this.validateClaimsRequest(e.claimsRequest));var a=this.validateAndGenerateState(e&&e.state,o),s=this.validateAndGenerateCorrelationId(e&&e.correlationId),u=c(c({},e),{extraQueryParameters:i,scopes:n,state:a,correlationId:s});return u},e.validatePromptParameter=function(e){if(e&&[A.LOGIN,A.SELECT_ACCOUNT,A.CONSENT,A.NONE].indexOf(e)<0)throw L.createInvalidPromptError(e)},e.validateEQParameters=function(e,t){var r=c({},e);return r?(t&&delete r[g.claims],C.forEach((function(e){r[e]&&delete r[e]})),r):null},e.validateClaimsRequest=function(e){if(e)try{JSON.parse(e)}catch(t){throw L.createClaimsRequestParsingError(t)}},e.validateAndGenerateState=function(t,r){return P.isEmpty(t)?e.generateLibraryState(r):""+e.generateLibraryState(r)+g.resourceDelimiter+t},e.generateLibraryState=function(e){var t={id:p.createNewGuid(),ts:Q.now(),method:e},r=JSON.stringify(t);return p.base64Encode(r)},e.parseLibraryState=function(e){var t=decodeURIComponent(e).split(g.resourceDelimiter)[0];if(p.isGuid(t))return{id:t,ts:Q.now(),method:g.interactionTypeRedirect};try{var r=p.base64Decode(t),o=JSON.parse(r);return o}catch(n){throw U.createInvalidStateError(e,null)}},e.validateAndGenerateCorrelationId=function(e){if(e&&!p.isGuid(e))throw L.createInvalidCorrelationIdError();return p.isGuid(e)?e:p.createNewGuid()},e.createRequestSignature=function(e){return""+e.scopes.join(" ").toLowerCase()+g.resourceDelimiter+e.authority},e}(),Z=function(e){function t(t,r,o){var n=e.call(this,r)||this;return n.temporaryCache=new $(f),n.clientId=t,n.rollbackEnabled=!0,n.migrateCacheEntries(o),n}return s(t,e),t.prototype.migrateCacheEntries=function(t){var r,o=this,n=g.cachePrefix+"."+y.IDTOKEN,i=g.cachePrefix+"."+y.CLIENT_INFO,a=g.cachePrefix+"."+v.ERROR,s=g.cachePrefix+"."+v.ERROR_DESC,c=e.prototype.getItem.call(this,n);if(c)try{r=new J(c)}catch(f){return}if(r&&r.claims&&r.claims.aud===this.clientId){var u=e.prototype.getItem.call(this,i),l=e.prototype.getItem.call(this,a),h=e.prototype.getItem.call(this,s),d=[c,u,l,h],p=[y.IDTOKEN,y.CLIENT_INFO,v.ERROR,v.ERROR_DESC];p.forEach((function(e,r){return o.duplicateCacheEntry(e,d[r],t)}))}},t.prototype.duplicateCacheEntry=function(e,t,r){t&&this.setItem(e,t,r)},t.prototype.generateCacheKey=function(e,t){try{return JSON.parse(e),e}catch(r){return 0===e.indexOf(""+g.cachePrefix)||0===e.indexOf(g.adalIdToken)?e:t?g.cachePrefix+"."+this.clientId+"."+e:g.cachePrefix+"."+e}},t.prototype.matchKeyForType=function(e,t,r,o){var n=P.validateAndParseJsonCacheKey(e);if(!n)return null;var i=e.match(t)&&e.match(r),a=!1;switch(o){case d.ACCESS_TOKEN:a=!!e.match(g.scopes);break;case d.ID_TOKEN:a=!e.match(g.scopes);break}return i&&a?n:null},t.prototype.setItem=function(t,r,o){e.prototype.setItem.call(this,this.generateCacheKey(t,!0),r,o),this.rollbackEnabled&&!o&&e.prototype.setItem.call(this,this.generateCacheKey(t,!1),r,o)},t.prototype.getItem=function(t,r){return e.prototype.getItem.call(this,this.generateCacheKey(t,!0),r)},t.prototype.removeItem=function(t){this.temporaryCache.removeItem(this.generateCacheKey(t,!0)),e.prototype.removeItem.call(this,this.generateCacheKey(t,!0)),this.rollbackEnabled&&e.prototype.removeItem.call(this,this.generateCacheKey(t,!1))},t.prototype.setTemporaryItem=function(e,t,r){this.temporaryCache.setItem(this.generateCacheKey(e,!0),t,r)},t.prototype.getTemporaryItem=function(e,t){return this.temporaryCache.getItem(this.generateCacheKey(e,!0),t)},t.prototype.resetCacheItems=function(){var t,r=window[this.cacheLocation];for(t in r)r.hasOwnProperty(t)&&-1!==t.indexOf(g.cachePrefix)&&e.prototype.removeItem.call(this,t)},t.prototype.resetTempCacheItems=function(t){var r=this,o=t&&X.parseLibraryState(t).id,n=this.tokenRenewalInProgress(t),i=window[this.cacheLocation];o&&!n&&Object.keys(i).forEach((function(t){-1!==t.indexOf(o)&&(r.removeItem(t),e.prototype.clearItemCookie.call(r,t))})),this.setInteractionInProgress(!1),this.removeItem(m.REDIRECT_REQUEST)},t.prototype.setItemCookie=function(t,r,o){e.prototype.setItemCookie.call(this,this.generateCacheKey(t,!0),r,o),this.rollbackEnabled&&e.prototype.setItemCookie.call(this,this.generateCacheKey(t,!1),r,o)},t.prototype.clearItemCookie=function(t){e.prototype.clearItemCookie.call(this,this.generateCacheKey(t,!0)),this.rollbackEnabled&&e.prototype.clearItemCookie.call(this,this.generateCacheKey(t,!1))},t.prototype.getItemCookie=function(t){return e.prototype.getItemCookie.call(this,this.generateCacheKey(t,!0))},t.prototype.getAllTokensByType=function(e,t,r){var o=this,n=Object.keys(window[this.cacheLocation]).reduce((function(n,i){var a=o.matchKeyForType(i,e,t,r);if(a){var s=o.getItem(i);if(s)try{var c=new Y(a,JSON.parse(s));return n.concat([c])}catch(u){return n}}return n}),[]);return n},t.prototype.getAllAccessTokens=function(e,t){return this.getAllTokensByType(e,t,d.ACCESS_TOKEN)},t.prototype.getAllIdTokens=function(e,t){return this.getAllTokensByType(e,t,d.ID_TOKEN)},t.prototype.getAllTokens=function(e,t){var r=this.getAllAccessTokens(e,t),o=this.getAllIdTokens(e,t);return h(r,o)},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){return this.getTemporaryItem(this.generateCacheKey(m.INTERACTION_STATUS,!1))},t.prototype.setInteractionInProgress=function(e){if(e){if(this.isInteractionInProgress(!1))throw U.createAcquireTokenInProgressError();this.setTemporaryItem(this.generateCacheKey(m.INTERACTION_STATUS,!1),this.clientId)}else!e&&this.isInteractionInProgress(!0)&&this.removeItem(this.generateCacheKey(m.INTERACTION_STATUS,!1))},t.prototype.tokenRenewalInProgress=function(e){var r=this.getItem(t.generateTemporaryCacheKey(m.RENEW_STATUS,e));return!(!r||r!==g.inProgress)},t.prototype.clearMsalCookie=function(r){var o=this;if(r)this.clearItemCookie(t.generateTemporaryCacheKey(m.NONCE_IDTOKEN,r)),this.clearItemCookie(t.generateTemporaryCacheKey(m.STATE_LOGIN,r)),this.clearItemCookie(t.generateTemporaryCacheKey(m.LOGIN_REQUEST,r)),this.clearItemCookie(t.generateTemporaryCacheKey(m.STATE_ACQ_TOKEN,r));else{var n=document.cookie.split(";");n.forEach((function(t){var r=t.trim().split("=")[0];r.indexOf(g.cachePrefix)>-1&&e.prototype.clearItemCookie.call(o,r)}))}},t.generateAcquireTokenAccountKey=function(e,t){var r=X.parseLibraryState(t).id;return""+m.ACQUIRE_TOKEN_ACCOUNT+g.resourceDelimiter+e+g.resourceDelimiter+r},t.generateAuthorityKey=function(e){return t.generateTemporaryCacheKey(m.AUTHORITY,e)},t.generateTemporaryCacheKey=function(e,t){var r=X.parseLibraryState(t).id;return""+e+g.resourceDelimiter+r},t}($),ee=function(){function e(e,t,r,o,n,i,a){this.accountIdentifier=e,this.homeAccountIdentifier=t,this.userName=r,this.name=o,this.idToken=n,this.idTokenClaims=n,this.sid=i,this.environment=a}return e.createAccount=function(t,r){var o,n=t.objectId||t.subject,i=r?r.uid:"",a=r?r.utid:"";return P.isEmpty(i)||(o=P.isEmpty(a)?p.base64Encode(i):p.base64Encode(i)+"."+p.base64Encode(a)),new e(n,o,t.preferredName,t.name,t.claims,t.sid,t.issuer)},e.compareAccounts=function(e,t){return!(!e||!t)&&!(!e.homeAccountIdentifier||!t.homeAccountIdentifier||e.homeAccountIdentifier!==t.homeAccountIdentifier)},e}(),te=function(){function e(){}return e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return!(!window.opener||window.opener===window)},e.generateFrameName=function(e,t){return""+e+g.resourceDelimiter+t},e.monitorIframeForHash=function(t,r,o,n){return new Promise((function(i,a){var s=Q.relativeNowMs(),c=s+r;n.verbose("monitorWindowForIframe polling started");var u=setInterval((function(){if(Q.relativeNowMs()>c)return n.error("monitorIframeForHash unable to find hash in url, timing out"),n.errorPii("monitorIframeForHash polling timed out for url: "+o),clearInterval(u),void a(U.createTokenRenewalTimeoutError());var e;try{e=t.location.href}catch(r){}e&&M.urlContainsHash(e)&&(n.verbose("monitorIframeForHash found url in hash"),clearInterval(u),i(t.location.hash))}),e.POLLING_INTERVAL_MS)}))},e.monitorPopupForHash=function(t,r,o,n){return new Promise((function(i,a){var s=r/e.POLLING_INTERVAL_MS,c=0;n.verbose("monitorWindowForHash polling started");var u=setInterval((function(){if(t.closed)return n.error("monitorWindowForHash window closed"),clearInterval(u),void a(U.createUserCancelledError());var r;try{r=t.location.href}catch(h){}if(r&&"about:blank"!==r)if(c++,r&&M.urlContainsHash(r)){n.verbose("monitorPopupForHash found url in hash"),clearInterval(u);var l=t.location.hash;e.clearUrlFragment(t),i(l)}else c>s&&(n.error("monitorPopupForHash unable to find hash in url, timing out"),n.errorPii("monitorPopupForHash polling timed out for url: "+o),clearInterval(u),a(U.createTokenRenewalTimeoutError()))}),e.POLLING_INTERVAL_MS)}))},e.loadFrame=function(e,t,r,o){var n=this;return o.infoPii("LoadFrame: "+t),new Promise((function(i,a){setTimeout((function(){var r=n.loadFrameSync(e,t,o);r?i(r):a("Unable to load iframe with name: "+t)}),r)}))},e.loadFrameSync=function(t,r,o){var n=e.addHiddenIFrame(r,o);return n?(""!==n.src&&"about:blank"!==n.src||(n.src=t,o.infoPii("Frame Name : "+r+" Navigated to: "+t)),n):null},e.addHiddenIFrame=function(e,t){if("undefined"===typeof e)return null;t.info("Add msal iframe to document"),t.infoPii("Add msal frame to document:"+e);var r=document.getElementById(e);if(r)t.verbose("Add msal iframe already exists");else{t.verbose("Add msal iframe does not exist");var o=document.createElement("iframe");o.setAttribute("id",e),o.setAttribute("aria-hidden","true"),o.style.visibility="hidden",o.style.position="absolute",o.style.width=o.style.height="0",o.style.border="0",o.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),r=document.getElementsByTagName("body")[0].appendChild(o)}return r},e.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},e.getIframeWithHash=function(e){var t=document.getElementsByTagName("iframe"),r=Array.apply(null,Array(t.length)).map((function(e,r){return t.item(r)}));return r.filter((function(t){try{return t.contentWindow.location.hash===e}catch(r){return!1}}))[0]},e.getPopups=function(){return window.openedWindows||(window.openedWindows=[]),window.openedWindows},e.getPopUpWithHash=function(t){return e.getPopups().filter((function(e){try{return e.location.hash===t}catch(r){return!1}}))[0]},e.trackPopup=function(t){e.getPopups().push(t)},e.closePopups=function(){e.getPopups().forEach((function(e){return e.close()}))},e.blockReloadInHiddenIframes=function(){if(M.urlContainsHash(window.location.hash)&&e.isInIframe())throw U.createBlockTokenRequestsInHiddenIframeError()},e.checkIfBackButtonIsPressed=function(e){var t=e.getItem(m.REDIRECT_REQUEST);if(t&&!M.urlContainsHash(window.location.hash)){var r=t.split(g.resourceDelimiter);r.shift();var o=r.length>0?r.join(g.resourceDelimiter):null;e.resetTempCacheItems(o)}},e.clearUrlFragment=function(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,null,""+e.location.pathname+e.location.search)},e.POLLING_INTERVAL_MS=50,e}(),re=function(){function e(){}return e.setResponseIdToken=function(e,t){if(!e)return null;if(!t)return e;var r=Number(t.expiration);return r&&!e.expiresOn&&(e.expiresOn=new Date(1e3*r)),c(c({},e),{idToken:t,idTokenClaims:t.claims,uniqueId:t.objectId||t.subject,tenantId:t.tenantId})},e.buildAuthResponse=function(t,r,o,n,i,a){switch(o.responseType){case I.id_token:var s=c(c({},r),{tokenType:d.ID_TOKEN,account:n,scopes:i,accountState:a});return s=e.setResponseIdToken(s,t),s.idToken?s:null;case I.id_token_token:var u=e.setResponseIdToken(r,t);return u&&u.accessToken&&u.idToken?u:null;case I.token:var l=e.setResponseIdToken(r,t);return l;default:return null}},e}(),oe=function(){function e(){}return e.saveMetadataFromNetwork=function(e,t,r){return u(this,void 0,void 0,(function(){var o;return l(this,(function(n){switch(n.label){case 0:return[4,e.resolveEndpointsAsync(t,r)];case 1:return o=n.sent(),this.metadataMap.set(e.CanonicalAuthority,o),[2,o]}}))}))},e.getMetadata=function(e){return this.metadataMap.get(e)},e.saveMetadataFromConfig=function(e,t){try{if(t){var r=JSON.parse(t);if(!r.authorization_endpoint||!r.end_session_endpoint||!r.issuer)throw L.createInvalidAuthorityMetadataError();this.metadataMap.set(e,{AuthorizationEndpoint:r.authorization_endpoint,EndSessionEndpoint:r.end_session_endpoint,Issuer:r.issuer})}}catch(o){throw L.createInvalidAuthorityMetadataError()}},e.CreateInstance=function(e,t,r){return P.isEmpty(e)?null:(r&&this.saveMetadataFromConfig(e,r),new W(e,t,this.metadataMap.get(e)))},e.metadataMap=new Map,e}();(function(e){e[e["Error"]=0]="Error",e[e["Warning"]=1]="Warning",e[e["Info"]=2]="Info",e[e["Verbose"]=3]="Verbose"})(V||(V={}));var ne=function(){function e(e,t){void 0===t&&(t={}),this.level=V.Info;var r=t.correlationId,o=void 0===r?"":r,n=t.level,i=void 0===n?V.Info:n,a=t.piiLoggingEnabled,s=void 0!==a&&a;this.localCallback=e,this.correlationId=o,this.level=i,this.piiLoggingEnabled=s}return e.prototype.logMessage=function(e,t,r){if(!(e>this.level||!this.piiLoggingEnabled&&r)){var o,n=(new Date).toUTCString();o=P.isEmpty(this.correlationId)?n+":"+j+"-"+V[e]+(r?"-pii":"")+" "+t:n+":"+this.correlationId+"-"+j+"-"+V[e]+(r?"-pii":"")+" "+t,this.executeCallback(e,o,r)}},e.prototype.executeCallback=function(e,t,r){this.localCallback&&this.localCallback(e,t,r)},e.prototype.error=function(e){this.logMessage(V.Error,e,!1)},e.prototype.errorPii=function(e){this.logMessage(V.Error,e,!0)},e.prototype.warning=function(e){this.logMessage(V.Warning,e,!1)},e.prototype.warningPii=function(e){this.logMessage(V.Warning,e,!0)},e.prototype.info=function(e){this.logMessage(V.Info,e,!1)},e.prototype.infoPii=function(e){this.logMessage(V.Info,e,!0)},e.prototype.verbose=function(e){this.logMessage(V.Verbose,e,!1)},e.prototype.verbosePii=function(e){this.logMessage(V.Verbose,e,!0)},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled},e}(),ie=6e3,ae=300,se=500,ce={clientId:"",authority:null,validateAuthority:!0,authorityMetadata:"",knownAuthorities:[],redirectUri:function(){return M.getCurrentUrl()},postLogoutRedirectUri:function(){return M.getCurrentUrl()},navigateToLoginRequestUrl:!0},ue={cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},le={logger:new ne(null),loadFrameTimeout:ie,tokenRenewalOffsetSeconds:ae,navigateFrameWait:se},he={isAngular:!1,unprotectedResources:new Array,protectedResourceMap:new Map};function de(e){var t=e.auth,r=e.cache,o=void 0===r?{}:r,n=e.system,i=void 0===n?{}:n,a=e.framework,s=void 0===a?{}:a,u={auth:c(c({},ce),t),cache:c(c({},ue),o),system:c(c({},le),i),framework:c(c({},he),s)};return u}var pe={serverUnavailable:{code:"server_unavailable",desc:"Server is temporarily unavailable."},unknownServerError:{code:"unknown_server_error"}},ge=function(e){function t(r,o){var n=e.call(this,r,o)||this;return n.name="ServerError",Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t.createServerUnavailableError=function(){return new t(pe.serverUnavailable.code,pe.serverUnavailable.desc)},t.createUnknownServerError=function(e){return new t(pe.unknownServerError.code,e)},t}(O),fe={interactionRequired:{code:"interaction_required"},consentRequired:{code:"consent_required"},loginRequired:{code:"login_required"}},me=function(e){function t(r,o){var n=e.call(this,r,o)||this;return n.name="InteractionRequiredAuthError",Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t.isInteractionRequiredError=function(e){var t=[fe.interactionRequired.code,fe.consentRequired.code,fe.loginRequired.code];return e&&t.indexOf(e)>-1},t.createLoginRequiredAuthError=function(e){return new t(fe.loginRequired.code,e)},t.createInteractionRequiredAuthError=function(e){return new t(fe.interactionRequired.code,e)},t.createConsentRequiredAuthError=function(e){return new t(fe.consentRequired.code,e)},t}(ge);function ye(e){return{uniqueId:"",tenantId:"",tokenType:"",idToken:null,idTokenClaims:null,accessToken:"",scopes:null,expiresOn:null,account:null,accountState:e,fromCache:!1}}var ve,Ie,be,Te="msal.",Ee="event_name",we="start_time",Se="elapsed_time",Ce={MsalCorrelationIdConstStrKey:"Microsoft.MSAL.correlation_id",ApiTelemIdConstStrKey:"msal.api_telem_id",ApiIdConstStrKey:"msal.api_id",BrokerAppConstStrKey:"Microsoft_MSAL_broker_app",CacheEventCountConstStrKey:"Microsoft_MSAL_cache_event_count",HttpEventCountTelemetryBatchKey:"Microsoft_MSAL_http_event_count",IdpConstStrKey:"Microsoft_MSAL_idp",IsSilentTelemetryBatchKey:"",IsSuccessfulConstStrKey:"Microsoft_MSAL_is_successful",ResponseTimeConstStrKey:"Microsoft_MSAL_response_time",TenantIdConstStrKey:"Microsoft_MSAL_tenant_id",UiEventCountTelemetryBatchKey:"Microsoft_MSAL_ui_event_count"},ke="<tenant>",Ae=function(e){var t=M.GetUrlComponents(e);if(W.isAdfs(e))return e;var r=t.PathSegments;if(r&&r.length>=2){var o="tfp"===r[1]?2:1;o<r.length&&(r[o]=ke)}return t.Protocol+"//"+t.HostNameAndPort+"/"+r.join("/")},Re=function(e){return p.base64Encode(e)},_e=function(e){return""+Te+(e||"")},Oe=function(){return!!("undefined"!==typeof window&&"performance"in window&&window.performance.mark&&window.performance.measure)},Pe=function(e,t,r){Oe()&&(window.performance.mark(r),window.performance.measure(e,t,r),window.performance.clearMeasures(e),window.performance.clearMarks(t),window.performance.clearMarks(r))},Ne=function(e){Oe()&&window.performance.mark(e)},Ue=function(){function e(e,t,r){var o;this.eventId=p.createNewGuid(),this.label=r,this.event=(o={},o[_e(Ee)]=e,o[_e(Se)]=-1,o[""+Ce.MsalCorrelationIdConstStrKey]=t,o)}return e.prototype.setElapsedTime=function(e){this.event[_e(Se)]=e},e.prototype.stop=function(){this.setElapsedTime(+Date.now()-+this.startTimestamp),Pe(this.displayName,this.perfStartMark,this.perfEndMark)},e.prototype.start=function(){this.startTimestamp=Date.now(),this.event[_e(we)]=this.startTimestamp,Ne(this.perfStartMark)},Object.defineProperty(e.prototype,"telemetryCorrelationId",{get:function(){return this.event[""+Ce.MsalCorrelationIdConstStrKey]},set:function(e){this.event[""+Ce.MsalCorrelationIdConstStrKey]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventName",{get:function(){return this.event[_e(Ee)]},enumerable:!1,configurable:!0}),e.prototype.get=function(){return c(c({},this.event),{eventId:this.eventId})},Object.defineProperty(e.prototype,"key",{get:function(){return this.telemetryCorrelationId+"_"+this.eventId+"-"+this.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return"Msal-"+this.label+"-"+this.telemetryCorrelationId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"perfStartMark",{get:function(){return"start-"+this.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"perfEndMark",{get:function(){return"end-"+this.key},enumerable:!1,configurable:!0}),e}(),xe=Ue,Le=function(e){function t(t,r,o,n){var i=e.call(this,_e("default_event"),r,"DefaultEvent")||this;return i.event[_e("client_id")]=o,i.event[_e("sdk_plaform")]=t.sdk,i.event[_e("sdk_version")]=t.sdkVersion,i.event[_e("application_name")]=t.applicationName,i.event[_e("application_version")]=t.applicationVersion,i.event[_e("effective_connection_speed")]=t.networkInformation&&t.networkInformation.connectionSpeed,i.event[""+Ce.UiEventCountTelemetryBatchKey]=i.getEventCount(_e("ui_event"),n),i.event[""+Ce.HttpEventCountTelemetryBatchKey]=i.getEventCount(_e("http_event"),n),i.event[""+Ce.CacheEventCountConstStrKey]=i.getEventCount(_e("cache_event"),n),i}return s(t,e),t.prototype.getEventCount=function(e,t){return t[e]?t[e]:0},t}(xe),qe=Le,Me={AUTHORITY:_e("authority"),AUTHORITY_TYPE:_e("authority_type"),PROMPT:_e("ui_behavior"),TENANT_ID:_e("tenant_id"),USER_ID:_e("user_id"),WAS_SUCESSFUL:_e("was_successful"),API_ERROR_CODE:_e("api_error_code"),LOGIN_HINT:_e("login_hint")};(function(e){e[e["AcquireTokenRedirect"]=2001]="AcquireTokenRedirect",e[e["AcquireTokenSilent"]=2002]="AcquireTokenSilent",e[e["AcquireTokenPopup"]=2003]="AcquireTokenPopup",e[e["LoginRedirect"]=2004]="LoginRedirect",e[e["LoginPopup"]=2005]="LoginPopup",e[e["Logout"]=2006]="Logout"})(Ie||(Ie={})),function(e){e["AcquireTokenRedirect"]="AcquireTokenRedirect",e["AcquireTokenSilent"]="AcquireTokenSilent",e["AcquireTokenPopup"]="AcquireTokenPopup",e["LoginRedirect"]="LoginRedirect",e["LoginPopup"]="LoginPopup",e["Logout"]="Logout"}(be||(be={}));var De=(ve={},ve[be.AcquireTokenSilent]=Ie.AcquireTokenSilent,ve[be.AcquireTokenPopup]=Ie.AcquireTokenPopup,ve[be.AcquireTokenRedirect]=Ie.AcquireTokenRedirect,ve[be.LoginPopup]=Ie.LoginPopup,ve[be.LoginRedirect]=Ie.LoginRedirect,ve[be.Logout]=Ie.Logout,ve),He=function(e){function t(t,r,o){var n=e.call(this,_e("api_event"),t,o)||this;return o&&(n.apiCode=De[o],n.apiEventIdentifier=o),n.piiEnabled=r,n}return s(t,e),Object.defineProperty(t.prototype,"apiEventIdentifier",{set:function(e){this.event[Ce.ApiTelemIdConstStrKey]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apiCode",{set:function(e){this.event[Ce.ApiIdConstStrKey]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authority",{set:function(e){this.event[Me.AUTHORITY]=Ae(e).toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apiErrorCode",{set:function(e){this.event[Me.API_ERROR_CODE]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tenantId",{set:function(e){this.event[Me.TENANT_ID]=this.piiEnabled&&e?Re(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accountId",{set:function(e){this.event[Me.USER_ID]=this.piiEnabled&&e?Re(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasSuccessful",{get:function(){return!0===this.event[Me.WAS_SUCESSFUL]},set:function(e){this.event[Me.WAS_SUCESSFUL]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginHint",{set:function(e){this.event[Me.LOGIN_HINT]=this.piiEnabled&&e?Re(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authorityType",{set:function(e){this.event[Me.AUTHORITY_TYPE]=e.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promptType",{set:function(e){this.event[Me.PROMPT]=e.toLowerCase()},enumerable:!1,configurable:!0}),t}(xe),je=He,Ke={HTTP_PATH:_e("http_path"),USER_AGENT:_e("user_agent"),QUERY_PARAMETERS:_e("query_parameters"),API_VERSION:_e("api_version"),RESPONSE_CODE:_e("response_code"),O_AUTH_ERROR_CODE:_e("oauth_error_code"),HTTP_METHOD:_e("http_method"),REQUEST_ID_HEADER:_e("request_id_header"),SPE_INFO:_e("spe_info"),SERVER_ERROR_CODE:_e("server_error_code"),SERVER_SUB_ERROR_CODE:_e("server_sub_error_code"),URL:_e("url")},Fe=function(e){function t(t,r){return e.call(this,_e("http_event"),t,r)||this}return s(t,e),Object.defineProperty(t.prototype,"url",{set:function(e){var t=Ae(e);this.event[Ke.URL]=t&&t.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"httpPath",{set:function(e){this.event[Ke.HTTP_PATH]=Ae(e).toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userAgent",{set:function(e){this.event[Ke.USER_AGENT]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"queryParams",{set:function(e){this.event[Ke.QUERY_PARAMETERS]=K.generateQueryParametersString(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apiVersion",{set:function(e){this.event[Ke.API_VERSION]=e.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"httpResponseStatus",{set:function(e){this.event[Ke.RESPONSE_CODE]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oAuthErrorCode",{set:function(e){this.event[Ke.O_AUTH_ERROR_CODE]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"httpMethod",{set:function(e){this.event[Ke.HTTP_METHOD]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requestIdHeader",{set:function(e){this.event[Ke.REQUEST_ID_HEADER]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speInfo",{set:function(e){this.event[Ke.SPE_INFO]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverErrorCode",{set:function(e){this.event[Ke.SERVER_ERROR_CODE]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverSubErrorCode",{set:function(e){this.event[Ke.SERVER_SUB_ERROR_CODE]=e},enumerable:!1,configurable:!0}),t}(xe),Ge=Fe,Ve=function(){function e(e,t,r){this.completedEvents={},this.inProgressEvents={},this.eventCountByCorrelationId={},this.onlySendFailureTelemetry=!1,this.telemetryPlatform=c({sdk:g.libraryName,sdkVersion:j,networkInformation:{connectionSpeed:"undefined"!==typeof navigator&&navigator.connection&&navigator.connection.effectiveType}},e.platform),this.clientId=e.clientId,this.onlySendFailureTelemetry=e.onlySendFailureTelemetry,this.telemetryEmitter=t,this.logger=r}return e.getTelemetrymanagerStub=function(e,t){var r="UnSetStub",o="0.0",n=function(){},i={applicationName:r,applicationVersion:o},a={platform:i,clientId:e};return new this(a,n,t)},e.prototype.startEvent=function(e){this.logger.verbose("Telemetry Event started: "+e.key),this.telemetryEmitter&&(e.start(),this.inProgressEvents[e.key]=e)},e.prototype.stopEvent=function(e){if(this.logger.verbose("Telemetry Event stopped: "+e.key),this.telemetryEmitter&&this.inProgressEvents[e.key]){e.stop(),this.incrementEventCount(e);var t=this.completedEvents[e.telemetryCorrelationId];this.completedEvents[e.telemetryCorrelationId]=h(t||[],[e]),delete this.inProgressEvents[e.key]}},e.prototype.flush=function(e){var t=this;if(this.logger.verbose("Flushing telemetry events: "+e),this.telemetryEmitter&&this.completedEvents[e]){var r=this.getOrphanedEvents(e);r.forEach((function(e){return t.incrementEventCount(e)}));var o=h(this.completedEvents[e],r);delete this.completedEvents[e];var n=this.eventCountByCorrelationId[e];if(delete this.eventCountByCorrelationId[e],o&&o.length){var i=new qe(this.telemetryPlatform,e,this.clientId,n),a=h(o,[i]);this.telemetryEmitter(a.map((function(e){return e.get()})))}}},e.prototype.createAndStartApiEvent=function(e,t){var r=new je(e,this.logger.isPiiLoggingEnabled(),t);return this.startEvent(r),r},e.prototype.stopAndFlushApiEvent=function(e,t,r,o){t.wasSuccessful=r,o&&(t.apiErrorCode=o),this.stopEvent(t),this.flush(e)},e.prototype.createAndStartHttpEvent=function(e,t,r,o){var n=new Ge(e,o);return n.url=r,n.httpMethod=t,this.startEvent(n),n},e.prototype.incrementEventCount=function(e){var t,r=e.eventName,o=this.eventCountByCorrelationId[e.telemetryCorrelationId];o?o[r]=o[r]?o[r]+1:1:this.eventCountByCorrelationId[e.telemetryCorrelationId]=(t={},t[r]=1,t)},e.prototype.getOrphanedEvents=function(e){var t=this;return Object.keys(this.inProgressEvents).reduce((function(r,o){if(-1!==o.indexOf(e)){var n=t.inProgressEvents[o];return delete t.inProgressEvents[o],h(r,[n])}return r}),[])},e}(),We=Ve,Be=function(){function e(){}return e.filterTokenCacheItemsByScope=function(e,t){return e.filter((function(e){var r=e.key.scopes.split(" "),o=q.removeDefaultScopes(t);return 0===o.length?q.containsScope(r,t):q.containsScope(r,o)}))},e.filterTokenCacheItemsByAuthority=function(e,t){return e.filter((function(e){return M.CanonicalizeUri(e.key.authority)===t}))},e.filterTokenCacheItemsByDomain=function(e,t){return e.filter((function(e){var r=M.GetUrlComponents(e.key.authority).HostNameAndPort;return r===t}))},e}(),Qe="https://login.microsoftonline.com/common",ze=function(){function e(e){this.authResponseCallback=null,this.tokenReceivedCallback=null,this.errorReceivedCallback=null,this.config=de(e),this.logger=this.config.system.logger,this.clientId=this.config.auth.clientId,this.inCookie=this.config.cache.storeAuthStateInCookie,this.telemetryManager=this.getTelemetryManagerFromConfig(this.config.system.telemetry,this.clientId),G.setTrustedAuthoritiesFromConfig(this.config.auth.validateAuthority,this.config.auth.knownAuthorities),oe.saveMetadataFromConfig(this.config.auth.authority,this.config.auth.authorityMetadata),this.authority=this.config.auth.authority||Qe,this.cacheStorage=new Z(this.clientId,this.config.cache.cacheLocation,this.inCookie),window.activeRenewals||(window.activeRenewals={}),window.renewStates||(window.renewStates=[]),window.callbackMappedToRenewStates||(window.callbackMappedToRenewStates={}),window.promiseMappedToRenewStates||(window.promiseMappedToRenewStates={}),window.msal=this;var t=window.location.hash,r=M.urlContainsHash(t);if(te.checkIfBackButtonIsPressed(this.cacheStorage),r&&this.cacheStorage.isInteractionInProgress(!0)){var o=this.getResponseState(t);o.method===g.interactionTypeRedirect&&this.handleRedirectAuthenticationResponse(t)}}return Object.defineProperty(e.prototype,"authority",{get:function(){return this.authorityInstance.CanonicalAuthority},set:function(e){this.authorityInstance=oe.CreateInstance(e,this.config.auth.validateAuthority)},enumerable:!1,configurable:!0}),e.prototype.getAuthorityInstance=function(){return this.authorityInstance},e.prototype.handleRedirectCallback=function(e,t){if(!e)throw L.createInvalidCallbackObjectError(e);t?(this.tokenReceivedCallback=e,this.errorReceivedCallback=t,this.logger.warning("This overload for callback is deprecated - please change the format of the callbacks to a single callback as shown: (err: AuthError, response: AuthResponse).")):this.authResponseCallback=e,this.redirectError?this.authErrorHandler(g.interactionTypeRedirect,this.redirectError,this.redirectResponse):this.redirectResponse&&this.authResponseHandler(g.interactionTypeRedirect,this.redirectResponse)},e.prototype.urlContainsHash=function(e){return this.logger.verbose("UrlContainsHash has been called"),M.urlContainsHash(e)},e.prototype.authResponseHandler=function(e,t,r){if(this.logger.verbose("AuthResponseHandler has been called"),this.cacheStorage.setInteractionInProgress(!1),e===g.interactionTypeRedirect)this.logger.verbose("Interaction type is redirect"),this.errorReceivedCallback?(this.logger.verbose("Two callbacks were provided to handleRedirectCallback, calling success callback with response"),this.tokenReceivedCallback(t)):this.authResponseCallback&&(this.logger.verbose("One callback was provided to handleRedirectCallback, calling authResponseCallback with response"),this.authResponseCallback(null,t));else{if(e!==g.interactionTypePopup)throw U.createInvalidInteractionTypeError();this.logger.verbose("Interaction type is popup, resolving"),r(t)}},e.prototype.authErrorHandler=function(e,t,r,o){if(this.logger.verbose("AuthErrorHandler has been called"),this.cacheStorage.setInteractionInProgress(!1),e===g.interactionTypeRedirect)if(this.logger.verbose("Interaction type is redirect"),this.errorReceivedCallback)this.logger.verbose("Two callbacks were provided to handleRedirectCallback, calling error callback"),this.errorReceivedCallback(t,r.accountState);else{if(!this.authResponseCallback)throw this.logger.verbose("handleRedirectCallback has not been called and no callbacks are registered, throwing error"),t;this.logger.verbose("One callback was provided to handleRedirectCallback, calling authResponseCallback with error"),this.authResponseCallback(t,r)}else{if(e!==g.interactionTypePopup)throw U.createInvalidInteractionTypeError();this.logger.verbose("Interaction type is popup, rejecting"),o(t)}},e.prototype.loginRedirect=function(e){this.logger.verbose("LoginRedirect has been called");var t=X.validateRequest(e,!0,this.clientId,g.interactionTypeRedirect);this.acquireTokenInteractive(g.interactionTypeRedirect,!0,t,null,null)},e.prototype.acquireTokenRedirect=function(e){this.logger.verbose("AcquireTokenRedirect has been called");var t=X.validateRequest(e,!1,this.clientId,g.interactionTypeRedirect);this.acquireTokenInteractive(g.interactionTypeRedirect,!1,t,null,null)},e.prototype.loginPopup=function(e){var t=this;this.logger.verbose("LoginPopup has been called");var r=X.validateRequest(e,!0,this.clientId,g.interactionTypePopup),o=this.telemetryManager.createAndStartApiEvent(r.correlationId,be.LoginPopup);return new Promise((function(e,o){t.acquireTokenInteractive(g.interactionTypePopup,!0,r,e,o)})).then((function(e){return t.logger.verbose("Successfully logged in"),t.telemetryManager.stopAndFlushApiEvent(r.correlationId,o,!0),e})).catch((function(e){throw t.cacheStorage.resetTempCacheItems(r.state),t.telemetryManager.stopAndFlushApiEvent(r.correlationId,o,!1,e.errorCode),e}))},e.prototype.acquireTokenPopup=function(e){var t=this;this.logger.verbose("AcquireTokenPopup has been called");var r=X.validateRequest(e,!1,this.clientId,g.interactionTypePopup),o=this.telemetryManager.createAndStartApiEvent(r.correlationId,be.AcquireTokenPopup);return new Promise((function(e,o){t.acquireTokenInteractive(g.interactionTypePopup,!1,r,e,o)})).then((function(e){return t.logger.verbose("Successfully acquired token"),t.telemetryManager.stopAndFlushApiEvent(r.correlationId,o,!0),e})).catch((function(e){throw t.cacheStorage.resetTempCacheItems(r.state),t.telemetryManager.stopAndFlushApiEvent(r.correlationId,o,!1,e.errorCode),e}))},e.prototype.acquireTokenInteractive=function(e,t,r,o,n){var i,a=this;this.logger.verbose("AcquireTokenInteractive has been called"),te.blockReloadInHiddenIframes();try{this.cacheStorage.setInteractionInProgress(!0)}catch(h){var s=t?U.createLoginInProgressError():U.createAcquireTokenInProgressError(),c=ye(this.getAccountState(r.state));return this.cacheStorage.resetTempCacheItems(r.state),void this.authErrorHandler(e,s,c,n)}if(e===g.interactionTypeRedirect&&this.cacheStorage.setItem(m.REDIRECT_REQUEST,""+g.inProgress+g.resourceDelimiter+r.state),r&&r.account&&!t?(i=r.account,this.logger.verbose("Account set from request")):(i=this.getAccount(),this.logger.verbose("Account set from MSAL Cache")),i||K.isSSOParam(r))this.logger.verbose("User session exists, login not required"),this.acquireTokenHelper(i,e,t,r,o,n);else{if(!t){this.logger.verbose("AcquireToken call, no context or account given"),this.logger.info("User login is required");c=ye(this.getAccountState(r.state));return this.cacheStorage.resetTempCacheItems(r.state),void this.authErrorHandler(e,U.createUserLoginRequiredError(),c,n)}var u=this.extractADALIdToken();if(u&&!r.scopes){this.logger.info("ADAL's idToken exists. Extracting login information from ADAL's idToken");var l=this.buildIDTokenRequest(r);this.silentLogin=!0,this.acquireTokenSilent(l).then((function(t){a.silentLogin=!1,a.logger.info("Unified cache call is successful"),a.authResponseHandler(e,t,o)}),(function(i){a.silentLogin=!1,a.logger.error("Error occurred during unified cache ATS: "+i),a.acquireTokenHelper(null,e,t,r,o,n)}))}else this.logger.verbose("Login call but no token found, proceed to login"),this.acquireTokenHelper(null,e,t,r,o,n)}},e.prototype.acquireTokenHelper=function(e,t,r,o,n,i){return u(this,void 0,void 0,(function(){var a,s,c,u,h,d,p,f,y,b,T;return l(this,(function(l){switch(l.label){case 0:this.logger.verbose("AcquireTokenHelper has been called"),this.logger.verbose("Interaction type: "+t+". isLoginCall: "+r),a=o.scopes?o.scopes.join(" ").toLowerCase():g.oidcScopes.join(" "),this.logger.verbosePii("Request signature: "+a),c=o&&o.authority?oe.CreateInstance(o.authority,this.config.auth.validateAuthority,o.authorityMetadata):this.authorityInstance,l.label=1;case 1:return l.trys.push([1,11,,12]),c.hasCachedMetadata()?[3,3]:(this.logger.verbose("No cached metadata for authority"),[4,oe.saveMetadataFromNetwork(c,this.telemetryManager,o.correlationId)]);case 2:return l.sent(),[3,4];case 3:this.logger.verbose("Cached metadata found for authority"),l.label=4;case 4:if(h=r?I.id_token:this.getTokenType(e,o.scopes),d=o.redirectStartPage||window.location.href,s=new K(c,this.clientId,h,this.getRedirectUri(o&&o.redirectUri),o.scopes,o.state,o.correlationId),this.logger.verbose("Finished building server authentication request"),this.updateCacheEntries(s,e,r,d),this.logger.verbose("Updating cache entries"),s.populateQueryParams(e,o),this.logger.verbose("Query parameters populated from account"),p=M.createNavigateUrl(s)+g.response_mode_fragment,t===g.interactionTypeRedirect)r?this.logger.verbose("Interaction type redirect but login call is true. State not cached"):(this.cacheStorage.setItem(Z.generateTemporaryCacheKey(m.STATE_ACQ_TOKEN,o.state),s.state,this.inCookie),this.logger.verbose("State cached for redirect"),this.logger.verbosePii("State cached: "+s.state));else{if(t!==g.interactionTypePopup)throw this.logger.verbose("Invalid interaction error. State not cached"),U.createInvalidInteractionTypeError();window.renewStates.push(s.state),window.requestType=r?g.login:g.renewToken,this.logger.verbose("State saved to window"),this.logger.verbosePii("State saved: "+s.state),this.registerCallback(s.state,a,n,i)}if(t!==g.interactionTypePopup)return[3,9];this.logger.verbose("Interaction type is popup. Generating popup window");try{u=this.openPopup(p,"msal",g.popUpWidth,g.popUpHeight),te.trackPopup(u)}catch(E){if(this.logger.info(N.popUpWindowError.code+":"+N.popUpWindowError.desc),this.cacheStorage.setItem(v.ERROR,N.popUpWindowError.code),this.cacheStorage.setItem(v.ERROR_DESC,N.popUpWindowError.desc),i)return i(U.createPopupWindowError()),[2]}if(!u)return[3,8];l.label=5;case 5:return l.trys.push([5,7,,8]),[4,te.monitorPopupForHash(u,this.config.system.loadFrameTimeout,p,this.logger)];case 6:return f=l.sent(),this.handleAuthenticationResponse(f),this.cacheStorage.setInteractionInProgress(!1),this.logger.info("Closing popup window"),this.config.framework.isAngular&&this.broadcast("msal:popUpHashChanged",f),te.closePopups(),[3,8];case 7:return y=l.sent(),i&&i(y),this.config.framework.isAngular?this.broadcast("msal:popUpClosed",y.errorCode+g.resourceDelimiter+y.errorMessage):(this.cacheStorage.setInteractionInProgress(!1),u.close()),[3,8];case 8:return[3,10];case 9:o.onRedirectNavigate?(this.logger.verbose("Invoking onRedirectNavigate callback"),b=o.onRedirectNavigate(p),!1!==b?(this.logger.verbose("onRedirectNavigate did not return false, navigating"),this.navigateWindow(p)):this.logger.verbose("onRedirectNavigate returned false, stopping navigation")):(this.logger.verbose("Navigating window to urlNavigate"),this.navigateWindow(p)),l.label=10;case 10:return[3,12];case 11:return T=l.sent(),this.logger.error(T),this.cacheStorage.resetTempCacheItems(o.state),this.authErrorHandler(t,U.createEndpointResolutionError(T.toString),ye(o.state),i),u&&u.close(),[3,12];case 12:return[2]}}))}))},e.prototype.ssoSilent=function(e){if(this.logger.verbose("ssoSilent has been called"),!e)throw L.createEmptyRequestError();if(!e.sid&&!e.loginHint)throw L.createSsoSilentError();return this.acquireTokenSilent(c(c({},e),{scopes:g.oidcScopes}))},e.prototype.acquireTokenSilent=function(e){var t=this;this.logger.verbose("AcquireTokenSilent has been called");var r=X.validateRequest(e,!1,this.clientId,g.interactionTypeSilent),o=this.telemetryManager.createAndStartApiEvent(r.correlationId,be.AcquireTokenSilent),n=X.createRequestSignature(r);return new Promise((function(e,o){return u(t,void 0,void 0,(function(){var t,i,a,s,c,u,h,d,p,f,m;return l(this,(function(l){switch(l.label){case 0:if(te.blockReloadInHiddenIframes(),t=r.scopes.join(" ").toLowerCase(),this.logger.verbosePii("Serialized scopes: "+t),r.account?(i=r.account,this.logger.verbose("Account set from request")):(i=this.getAccount(),this.logger.verbose("Account set from MSAL Cache")),a=this.cacheStorage.getItem(g.adalIdToken),!i&&!r.sid&&!r.loginHint&&P.isEmpty(a))return this.logger.info("User login is required"),[2,o(U.createUserLoginRequiredError())];if(s=this.getTokenType(i,r.scopes),this.logger.verbose("Response type: "+s),c=new K(oe.CreateInstance(r.authority,this.config.auth.validateAuthority,r.authorityMetadata),this.clientId,s,this.getRedirectUri(r.redirectUri),r.scopes,r.state,r.correlationId),this.logger.verbose("Finished building server authentication request"),K.isSSOParam(r)||i?(c.populateQueryParams(i,r,null,!0),this.logger.verbose("Query parameters populated from existing SSO or account")):i||P.isEmpty(a)?this.logger.verbose("No additional query parameters added"):(u=z.extractIdToken(a),this.logger.verbose("ADAL's idToken exists. Extracting login information from ADAL's idToken to populate query parameters"),c.populateQueryParams(i,null,u,!0)),h=r.claimsRequest||c.claimsValue,!h&&!r.forceRefresh)try{p=this.getCachedToken(c,i)}catch(y){d=y}return p?(this.logger.verbose("Token found in cache lookup"),this.logger.verbosePii("Scopes found: "+JSON.stringify(p.scopes)),e(p),[2,null]):[3,1];case 1:return d?(this.logger.infoPii(d.errorCode+":"+d.errorMessage),o(d),[2,null]):[3,2];case 2:f=void 0,f=h?"Skipped cache lookup since claims were given":r.forceRefresh?"Skipped cache lookup since request.forceRefresh option was set to true":"No valid token found in cache lookup",this.logger.verbose(f),c.authorityInstance||(c.authorityInstance=r.authority?oe.CreateInstance(r.authority,this.config.auth.validateAuthority,r.authorityMetadata):this.authorityInstance),this.logger.verbosePii("Authority instance: "+c.authority),l.label=3;case 3:return l.trys.push([3,7,,8]),c.authorityInstance.hasCachedMetadata()?[3,5]:(this.logger.verbose("No cached metadata for authority"),[4,oe.saveMetadataFromNetwork(c.authorityInstance,this.telemetryManager,r.correlationId)]);case 4:return l.sent(),this.logger.verbose("Authority has been updated with endpoint discovery response"),[3,6];case 5:this.logger.verbose("Cached metadata found for authority"),l.label=6;case 6:return window.activeRenewals[n]?(this.logger.verbose("Renewing token in progress. Registering callback"),this.registerCallback(window.activeRenewals[n],n,e,o)):r.scopes&&q.onlyContainsOidcScopes(r.scopes)?(this.logger.verbose("OpenID Connect scopes only, renewing idToken"),this.silentLogin=!0,this.renewIdToken(n,e,o,i,c)):(this.logger.verbose("Renewing access token"),this.renewToken(n,e,o,i,c)),[3,8];case 7:return m=l.sent(),this.logger.error(m),o(U.createEndpointResolutionError(m.toString())),[2,null];case 8:return[2]}}))}))})).then((function(e){return t.logger.verbose("Successfully acquired token"),t.telemetryManager.stopAndFlushApiEvent(r.correlationId,o,!0),e})).catch((function(e){throw t.cacheStorage.resetTempCacheItems(r.state),t.telemetryManager.stopAndFlushApiEvent(r.correlationId,o,!1,e.errorCode),e}))},e.prototype.openPopup=function(e,t,r,o){this.logger.verbose("OpenPopup has been called");try{var n=window.screenLeft?window.screenLeft:window.screenX,i=window.screenTop?window.screenTop:window.screenY,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=a/2-r/2+n,u=s/2-o/2+i,l=window.open(e,t,"width="+r+", height="+o+", top="+u+", left="+c+", scrollbars=yes");if(!l)throw U.createPopupWindowError();return l.focus&&l.focus(),l}catch(h){throw this.cacheStorage.setInteractionInProgress(!1),U.createPopupWindowError(h.toString())}},e.prototype.loadIframeTimeout=function(e,t,r){return u(this,void 0,void 0,(function(){var o,n,i,a,s;return l(this,(function(c){switch(c.label){case 0:return o=window.activeRenewals[r],this.logger.verbosePii("Set loading state to pending for: "+r+":"+o),this.cacheStorage.setItem(Z.generateTemporaryCacheKey(m.RENEW_STATUS,o),g.inProgress),this.config.system.navigateFrameWait?[4,te.loadFrame(e,t,this.config.system.navigateFrameWait,this.logger)]:[3,2];case 1:return i=c.sent(),[3,3];case 2:i=te.loadFrameSync(e,t,this.logger),c.label=3;case 3:n=i,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,te.monitorIframeForHash(n.contentWindow,this.config.system.loadFrameTimeout,e,this.logger)];case 5:return a=c.sent(),a&&this.handleAuthenticationResponse(a),[3,7];case 6:throw s=c.sent(),this.cacheStorage.getItem(Z.generateTemporaryCacheKey(m.RENEW_STATUS,o))===g.inProgress&&(this.logger.verbose("Loading frame has timed out after: "+this.config.system.loadFrameTimeout/1e3+" seconds for scope/authority "+r+":"+o),o&&window.callbackMappedToRenewStates[o]&&window.callbackMappedToRenewStates[o](null,s),this.cacheStorage.removeItem(Z.generateTemporaryCacheKey(m.RENEW_STATUS,o))),te.removeHiddenIframe(n),s;case 7:return te.removeHiddenIframe(n),[2]}}))}))},e.prototype.navigateWindow=function(e,t){if(!e||P.isEmpty(e))throw this.logger.info("Navigate url is empty"),O.createUnexpectedError("Navigate url is empty");var r=t||window,o=t?"Navigated Popup window to:"+e:"Navigate to:"+e;this.logger.infoPii(o),r.location.assign(e)},e.prototype.registerCallback=function(e,t,r,o){var n=this;window.activeRenewals[t]=e,window.promiseMappedToRenewStates[e]||(window.promiseMappedToRenewStates[e]=[]),window.promiseMappedToRenewStates[e].push({resolve:r,reject:o}),window.callbackMappedToRenewStates[e]||(window.callbackMappedToRenewStates[e]=function(r,o){delete window.activeRenewals[t];for(var i=0;i<window.promiseMappedToRenewStates[e].length;++i)try{if(o)window.promiseMappedToRenewStates[e][i].reject(o);else{if(!r)throw n.cacheStorage.resetTempCacheItems(e),O.createUnexpectedError("Error and response are both null");window.promiseMappedToRenewStates[e][i].resolve(r)}}catch(a){n.logger.warning(a)}delete window.promiseMappedToRenewStates[e],delete window.callbackMappedToRenewStates[e]})},e.prototype.logout=function(e){this.logger.verbose("Logout has been called"),this.logoutAsync(e)},e.prototype.logoutAsync=function(e){return u(this,void 0,void 0,(function(){var t,r,o,n,i,a;return l(this,(function(s){switch(s.label){case 0:t=e||p.createNewGuid(),r=this.telemetryManager.createAndStartApiEvent(t,be.Logout),this.clearCache(),this.account=null,s.label=1;case 1:return s.trys.push([1,5,,6]),this.authorityInstance.hasCachedMetadata()?[3,3]:(this.logger.verbose("No cached metadata for authority"),[4,oe.saveMetadataFromNetwork(this.authorityInstance,this.telemetryManager,e)]);case 2:return s.sent(),[3,4];case 3:this.logger.verbose("Cached metadata found for authority"),s.label=4;case 4:return o="client-request-id="+t,n=void 0,this.getPostLogoutRedirectUri()?(n="&post_logout_redirect_uri="+encodeURIComponent(this.getPostLogoutRedirectUri()),this.logger.verbose("redirectUri found and set")):(n="",this.logger.verbose("No redirectUri set for app. postLogoutQueryParam is empty")),i=void 0,this.authorityInstance.EndSessionEndpoint?(i=this.authorityInstance.EndSessionEndpoint+"?"+o+n,this.logger.verbose("EndSessionEndpoint found and urlNavigate set"),this.logger.verbosePii("urlNavigate set to: "+this.authorityInstance.EndSessionEndpoint)):(i=this.authority+"oauth2/v2.0/logout?"+o+n,this.logger.verbose("No endpoint, urlNavigate set to default")),this.telemetryManager.stopAndFlushApiEvent(t,r,!0),this.logger.verbose("Navigating window to urlNavigate"),this.navigateWindow(i),[3,6];case 5:return a=s.sent(),this.telemetryManager.stopAndFlushApiEvent(t,r,!1,a.errorCode),[3,6];case 6:return[2]}}))}))},e.prototype.clearCache=function(){this.logger.verbose("Clearing cache"),window.renewStates=[];for(var e=this.cacheStorage.getAllTokens(g.clientId,g.homeAccountIdentifier),t=0;t<e.length;t++)this.cacheStorage.removeItem(JSON.stringify(e[t].key));this.cacheStorage.resetCacheItems(),this.cacheStorage.clearMsalCookie(),this.logger.verbose("Cache cleared")},e.prototype.clearCacheForScope=function(e){this.logger.verbose("Clearing access token from cache");for(var t=this.cacheStorage.getAllAccessTokens(g.clientId,g.homeAccountIdentifier),r=0;r<t.length;r++){var o=t[r];o.value.accessToken===e&&(this.cacheStorage.removeItem(JSON.stringify(o.key)),this.logger.verbosePii("Access token removed: "+o.key))}},e.prototype.isCallback=function(e){return this.logger.info("isCallback will be deprecated in favor of urlContainsHash in MSAL.js v2.0."),this.logger.verbose("isCallback has been called"),M.urlContainsHash(e)},e.prototype.processCallBack=function(e,t,r){this.logger.info("ProcessCallBack has been called. Processing callback from redirect response");var o,n,i=t;i||(this.logger.verbose("StateInfo is null, getting stateInfo from hash"),i=this.getResponseState(e));try{o=this.saveTokenFromHash(e,i)}catch(s){n=s}try{this.cacheStorage.clearMsalCookie(i.state);var a=this.getAccountState(i.state);if(o){if(i.requestType===g.renewToken||o.accessToken?(window.parent!==window?this.logger.verbose("Window is in iframe, acquiring token silently"):this.logger.verbose("Acquiring token interactive in progress"),this.logger.verbose("Response tokenType set to "+d.ACCESS_TOKEN),o.tokenType=d.ACCESS_TOKEN):i.requestType===g.login&&(this.logger.verbose("Response tokenType set to "+d.ID_TOKEN),o.tokenType=d.ID_TOKEN),!r)return this.logger.verbose("Setting redirectResponse"),void(this.redirectResponse=o)}else if(!r)return this.logger.verbose("Response is null, setting redirectResponse with state"),this.redirectResponse=ye(a),this.redirectError=n,void this.cacheStorage.resetTempCacheItems(i.state);this.logger.verbose("Calling callback provided to processCallback"),r(o,n)}catch(s){throw this.logger.error("Error occurred in token received callback function: "+s),U.createErrorInCallbackFunction(s.toString())}},e.prototype.handleAuthenticationResponse=function(e){this.logger.verbose("HandleAuthenticationResponse has been called");var t=e||window.location.hash,r=this.getResponseState(t);this.logger.verbose("Obtained state from response");var o=window.callbackMappedToRenewStates[r.state];this.processCallBack(t,r,o)},e.prototype.handleRedirectAuthenticationResponse=function(e){this.logger.info("Returned from redirect url"),this.logger.verbose("HandleRedirectAuthenticationResponse has been called"),te.clearUrlFragment(window),this.logger.verbose("Window.location.hash cleared");var t=this.getResponseState(e);if(this.config.auth.navigateToLoginRequestUrl&&window.parent===window){this.logger.verbose("Window.parent is equal to window, not in popup or iframe. Navigation to login request url after login turned on");var r=this.cacheStorage.getItem(Z.generateTemporaryCacheKey(m.LOGIN_REQUEST,t.state),this.inCookie);if(!r||"null"===r)return this.logger.error("Unable to get valid login request url from cache, redirecting to home page"),void window.location.assign("/");this.logger.verbose("Valid login request url obtained from cache");var o=M.removeHashFromUrl(window.location.href),n=M.removeHashFromUrl(r);if(o!==n)return this.logger.verbose("Current url is not login request url, navigating"),this.logger.verbosePii("CurrentUrl: "+o+", finalRedirectUrl: "+n),void window.location.assign(""+n+e);this.logger.verbose("Current url matches login request url");var i=M.GetUrlComponents(r);i.Hash&&(this.logger.verbose("Login request url contains hash, resetting non-msal hash"),window.location.hash=i.Hash)}else this.config.auth.navigateToLoginRequestUrl||this.logger.verbose("Default navigation to start page after login turned off");this.processCallBack(e,t,null)},e.prototype.getResponseState=function(e){this.logger.verbose("GetResponseState has been called");var t,r=M.deserializeHash(e);if(!r)throw O.createUnexpectedError("Hash was not parsed correctly.");if(!r.hasOwnProperty(d.STATE))throw O.createUnexpectedError("Hash does not contain state.");this.logger.verbose("Hash contains state. Creating stateInfo object");var o=X.parseLibraryState(r["state"]);if(t={requestType:g.unknown,state:r["state"],timestamp:o.ts,method:o.method,stateMatch:!1},t.state===this.cacheStorage.getItem(Z.generateTemporaryCacheKey(m.STATE_LOGIN,t.state),this.inCookie)||t.state===this.silentAuthenticationState)return this.logger.verbose("State matches cached state, setting requestType to login"),t.requestType=g.login,t.stateMatch=!0,t;if(t.state===this.cacheStorage.getItem(Z.generateTemporaryCacheKey(m.STATE_ACQ_TOKEN,t.state),this.inCookie))return this.logger.verbose("State matches cached state, setting requestType to renewToken"),t.requestType=g.renewToken,t.stateMatch=!0,t;if(!t.stateMatch){this.logger.verbose("State does not match cached state, setting requestType to type from window"),t.requestType=window.requestType;for(var n=window.renewStates,i=0;i<n.length;i++)if(n[i]===t.state){this.logger.verbose("Matching state found for request"),t.stateMatch=!0;break}t.stateMatch||this.logger.verbose("Matching state not found for request")}return t},e.prototype.getCachedToken=function(e,t){this.logger.verbose("GetCachedToken has been called");var r=e.scopes,o=this.getCachedIdToken(e,t),n=this.getCachedAccessToken(e,t,r),i=this.getAccountState(e.state);return re.buildAuthResponse(o,n,e,t,r,i)},e.prototype.getTokenCacheItemByAuthority=function(e,t,r,o){var n,i=this;return n=M.isCommonAuthority(e)||M.isOrganizationsAuthority(e)||M.isConsumersAuthority(e)?Be.filterTokenCacheItemsByDomain(t,M.GetUrlComponents(e).HostNameAndPort):Be.filterTokenCacheItemsByAuthority(t,e),1===n.length?n[0]:n.length>1?(this.logger.warning("Multiple matching tokens found. Cleaning cache and requesting a new token."),n.forEach((function(e){i.cacheStorage.removeItem(JSON.stringify(e.key))})),null):(this.logger.verbose("No matching tokens of type "+o+" found"),null)},e.prototype.getCachedIdToken=function(e,t){this.logger.verbose("Getting all cached tokens of type ID Token");var r=this.cacheStorage.getAllIdTokens(this.clientId,t?t.homeAccountIdentifier:null),o=e.authority||this.authority,n=this.getTokenCacheItemByAuthority(o,r,null,d.ID_TOKEN);if(n){this.logger.verbose("Evaluating ID token found");var i=this.evaluateTokenExpiration(n);if(i){this.logger.verbose("ID token expiration is within offset, using ID token found in cache");var a=n.value;return a?this.logger.verbose("ID Token found in cache is valid and unexpired"):this.logger.verbose("ID Token found in cache is invalid"),a?new J(a.idToken):null}return this.logger.verbose("Cached ID token is expired, removing from cache"),this.cacheStorage.removeItem(JSON.stringify(n.key)),null}return this.logger.verbose("No tokens found"),null},e.prototype.getCachedAccessToken=function(e,t,r){this.logger.verbose("Getting all cached tokens of type Access Token");var o=this.cacheStorage.getAllAccessTokens(this.clientId,t?t.homeAccountIdentifier:null),n=Be.filterTokenCacheItemsByScope(o,r),i=e.authority||this.authority,a=this.getTokenCacheItemByAuthority(i,n,r,d.ACCESS_TOKEN);if(a){e.authorityInstance=oe.CreateInstance(a.key.authority,this.config.auth.validateAuthority),this.logger.verbose("Evaluating access token found");var s=this.evaluateTokenExpiration(a);if(s){this.logger.verbose("Access token expiration is within offset, using access token found in cache");var c=t||this.getAccount();if(!c)throw O.createUnexpectedError("Account should not be null here.");var u=this.getAccountState(e.state),l={uniqueId:"",tenantId:"",tokenType:d.ACCESS_TOKEN,idToken:null,idTokenClaims:null,accessToken:a.value.accessToken,scopes:a.key.scopes.split(" "),expiresOn:new Date(1e3*Number(a.value.expiresIn)),account:c,accountState:u,fromCache:!0};return l}return this.logger.verbose("Access token expired, removing from cache"),this.cacheStorage.removeItem(JSON.stringify(a.key)),null}return this.logger.verbose("No matching token found when filtering by scope and authority"),null},e.prototype.evaluateTokenExpiration=function(e){var t=Number(e.value.expiresIn);return z.validateExpirationIsWithinOffset(t,this.config.system.tokenRenewalOffsetSeconds)},e.prototype.extractADALIdToken=function(){this.logger.verbose("ExtractADALIdToken has been called");var e=this.cacheStorage.getItem(g.adalIdToken);return P.isEmpty(e)?null:z.extractIdToken(e)},e.prototype.renewToken=function(e,t,r,o,n){this.logger.verbose("RenewToken has been called"),this.logger.verbosePii("RenewToken scope and authority: "+e);var i=te.generateFrameName(R.TOKEN_FRAME,e);te.addHiddenIFrame(i,this.logger),this.updateCacheEntries(n,o,!1),this.logger.verbosePii("RenewToken expected state: "+n.state);var a=M.urlRemoveQueryStringParameter(M.createNavigateUrl(n),g.prompt)+g.prompt_none+g.response_mode_fragment;window.renewStates.push(n.state),window.requestType=g.renewToken,this.logger.verbose("Set window.renewState and requestType"),this.registerCallback(n.state,e,t,r),this.logger.infoPii("Navigate to: "+a),this.loadIframeTimeout(a,i,e).catch((function(e){return r(e)}))},e.prototype.renewIdToken=function(e,t,r,o,n){this.logger.info("RenewIdToken has been called");var i=te.generateFrameName(R.ID_TOKEN_FRAME,e);te.addHiddenIFrame(i,this.logger),this.updateCacheEntries(n,o,!1),this.logger.verbose("RenewIdToken expected state: "+n.state);var a=M.urlRemoveQueryStringParameter(M.createNavigateUrl(n),g.prompt)+g.prompt_none+g.response_mode_fragment;this.silentLogin?(this.logger.verbose("Silent login is true, set silentAuthenticationState"),window.requestType=g.login,this.silentAuthenticationState=n.state):(this.logger.verbose("Not silent login, set window.renewState and requestType"),window.requestType=g.renewToken,window.renewStates.push(n.state)),this.registerCallback(n.state,e,t,r),this.logger.infoPii('Navigate to:" '+a),this.loadIframeTimeout(a,i,e).catch((function(e){return r(e)}))},e.prototype.saveToken=function(e,t,r,o,n){var i=new D(t,this.clientId,r,o.uid,o.utid),a=new H(e.accessToken,e.idToken.rawIdToken,n.toString(),o.encodeClientInfo());return this.cacheStorage.setItem(JSON.stringify(i),JSON.stringify(a)),n?(this.logger.verbose("New expiration set for token"),e.expiresOn=new Date(1e3*n)):this.logger.error("Could not parse expiresIn parameter for access token"),e},e.prototype.saveIdToken=function(e,t,r,o,n){this.logger.verbose("SaveIdToken has been called");var i,a=c({},e);a.scopes=g.oidcScopes,a.accessToken=r[d.ID_TOKEN];var s=Number(n.expiration);return this.logger.verbose("Saving ID token to cache"),this.saveToken(a,t,i,o,s)},e.prototype.saveAccessToken=function(e,t,r,o){this.logger.verbose("SaveAccessToken has been called");var n=c({},e),i=r[d.SCOPE],a=i.split(" "),s=this.cacheStorage.getAllAccessTokens(this.clientId,t);this.logger.verbose("Retrieving all access tokens from cache and removing duplicates");for(var u=0;u<s.length;u++){var l=s[u];if(l.key.homeAccountIdentifier===e.account.homeAccountIdentifier){var h=l.key.scopes.split(" ");q.isIntersectingScopes(h,a)&&this.cacheStorage.removeItem(JSON.stringify(l.key))}}n.accessToken=r[d.ACCESS_TOKEN],n.scopes=a;var p=Q.parseExpiresIn(r[d.EXPIRES_IN]),g=X.parseLibraryState(r[d.STATE]),f=g.ts+p;return this.logger.verbose("Saving access token to cache"),this.saveToken(n,t,i,o,f)},e.prototype.saveTokenFromHash=function(e,t){this.logger.verbose("SaveTokenFromHash has been called"),this.logger.info("State status: "+t.stateMatch+"; Request type: "+t.requestType);var r,o={uniqueId:"",tenantId:"",tokenType:"",idToken:null,idTokenClaims:null,accessToken:null,scopes:[],expiresOn:null,account:null,accountState:"",fromCache:!1},n=M.deserializeHash(e),i="",a="",s=null;if(n.hasOwnProperty(d.ERROR_DESCRIPTION)||n.hasOwnProperty(d.ERROR)){if(this.logger.verbose("Server returned an error"),this.logger.infoPii("Error : "+n[d.ERROR]+"; Error description: "+n[d.ERROR_DESCRIPTION]),this.cacheStorage.setItem(v.ERROR,n[d.ERROR]),this.cacheStorage.setItem(v.ERROR_DESC,n[d.ERROR_DESCRIPTION]),t.requestType===g.login&&(this.logger.verbose("RequestType is login, caching login error, generating authorityKey"),this.cacheStorage.setItem(v.LOGIN_ERROR,n[d.ERROR_DESCRIPTION]+":"+n[d.ERROR]),i=Z.generateAuthorityKey(t.state)),t.requestType===g.renewToken){this.logger.verbose("RequestType is renewToken, generating acquireTokenAccountKey"),i=Z.generateAuthorityKey(t.state);var c=this.getAccount(),u=void 0;c&&!P.isEmpty(c.homeAccountIdentifier)?(u=c.homeAccountIdentifier,this.logger.verbose("AccountId is set")):(u=g.no_account,this.logger.verbose("AccountId is set as no_account")),a=Z.generateAcquireTokenAccountKey(u,t.state)}var l=n[d.ERROR],h=n[d.ERROR_DESCRIPTION];r=me.isInteractionRequiredError(l)||me.isInteractionRequiredError(h)?new me(n[d.ERROR],n[d.ERROR_DESCRIPTION]):new ge(n[d.ERROR],n[d.ERROR_DESCRIPTION])}else if(this.logger.verbose("Server returns success"),t.stateMatch){this.logger.info("State is right"),n.hasOwnProperty(d.SESSION_STATE)&&(this.logger.verbose("Fragment has session state, caching"),this.cacheStorage.setItem(Z.generateTemporaryCacheKey(m.SESSION_STATE,t.state),n[d.SESSION_STATE])),o.accountState=this.getAccountState(t.state);var p=void 0;if(n.hasOwnProperty(d.ACCESS_TOKEN)){this.logger.info("Fragment has access token"),o.accessToken=n[d.ACCESS_TOKEN],n.hasOwnProperty(d.SCOPE)&&(o.scopes=n[d.SCOPE].split(" ")),n.hasOwnProperty(d.ID_TOKEN)?(this.logger.verbose("Fragment has id_token"),s=new J(n[d.ID_TOKEN])):(this.logger.verbose("No idToken on fragment, getting idToken from cache"),s=new J(this.cacheStorage.getItem(y.IDTOKEN))),o=re.setResponseIdToken(o,s);var f=this.populateAuthority(t.state,this.inCookie,this.cacheStorage,s);this.logger.verbose("Got authority from cache"),n.hasOwnProperty(d.CLIENT_INFO)?(this.logger.verbose("Fragment has clientInfo"),p=new B(n[d.CLIENT_INFO],f)):this.authorityInstance.AuthorityType===S.Adfs?p=B.createClientInfoFromIdToken(s,f):this.logger.warning("ClientInfo not received in the response from AAD"),o.account=ee.createAccount(s,p),this.logger.verbose("Account object created from response");var I=void 0;o.account&&!P.isEmpty(o.account.homeAccountIdentifier)?(this.logger.verbose("AccountKey set"),I=o.account.homeAccountIdentifier):(this.logger.verbose("AccountKey set as no_account"),I=g.no_account),a=Z.generateAcquireTokenAccountKey(I,t.state);var b=Z.generateAcquireTokenAccountKey(g.no_account,t.state);this.logger.verbose("AcquireTokenAccountKey generated");var T=this.cacheStorage.getItem(a),E=void 0;P.isEmpty(T)?P.isEmpty(this.cacheStorage.getItem(b))||(this.logger.verbose("No acquireToken account retrieved from cache"),o=this.saveAccessToken(o,f,n,p)):(E=JSON.parse(T),this.logger.verbose("AcquireToken request account retrieved from cache"),o.account&&E&&ee.compareAccounts(o.account,E)?(o=this.saveAccessToken(o,f,n,p),this.logger.info("The user object received in the response is the same as the one passed in the acquireToken request")):this.logger.warning("The account object created from the response is not the same as the one passed in the acquireToken request"))}if(n.hasOwnProperty(d.ID_TOKEN)){this.logger.info("Fragment has idToken"),s=new J(n[d.ID_TOKEN]);f=this.populateAuthority(t.state,this.inCookie,this.cacheStorage,s);if(o=re.setResponseIdToken(o,s),n.hasOwnProperty(d.CLIENT_INFO)?(this.logger.verbose("Fragment has clientInfo"),p=new B(n[d.CLIENT_INFO],f)):this.authorityInstance.AuthorityType===S.Adfs?p=B.createClientInfoFromIdToken(s,f):this.logger.warning("ClientInfo not received in the response from AAD"),this.account=ee.createAccount(s,p),o.account=this.account,this.logger.verbose("Account object created from response"),s&&s.nonce){this.logger.verbose("IdToken has nonce");var w=this.cacheStorage.getItem(Z.generateTemporaryCacheKey(m.NONCE_IDTOKEN,t.state),this.inCookie);s.nonce!==w?(this.account=null,this.cacheStorage.setItem(v.LOGIN_ERROR,"Nonce Mismatch. Expected Nonce: "+w+",Actual Nonce: "+s.nonce),this.logger.error("Nonce Mismatch. Expected Nonce: "+w+", Actual Nonce: "+s.nonce),r=U.createNonceMismatchError(w,s.nonce)):(this.logger.verbose("Nonce matches, saving idToken to cache"),this.cacheStorage.setItem(y.IDTOKEN,n[d.ID_TOKEN],this.inCookie),this.cacheStorage.setItem(y.CLIENT_INFO,p.encodeClientInfo(),this.inCookie),this.saveIdToken(o,f,n,p,s))}else this.logger.verbose("No idToken or no nonce. Cache key for Authority set as state"),i=t.state,a=t.state,this.logger.error("Invalid id_token received in the response"),r=U.createInvalidIdTokenError(s),this.cacheStorage.setItem(v.ERROR,r.errorCode),this.cacheStorage.setItem(v.ERROR_DESC,r.errorMessage)}}else{this.logger.verbose("State mismatch"),i=t.state,a=t.state;var C=this.cacheStorage.getItem(Z.generateTemporaryCacheKey(m.STATE_LOGIN,t.state),this.inCookie);this.logger.error("State Mismatch. Expected State: "+C+", Actual State: "+t.state),r=U.createInvalidStateError(t.state,C),this.cacheStorage.setItem(v.ERROR,r.errorCode),this.cacheStorage.setItem(v.ERROR_DESC,r.errorMessage)}if(this.cacheStorage.removeItem(Z.generateTemporaryCacheKey(m.RENEW_STATUS,t.state)),this.cacheStorage.resetTempCacheItems(t.state),this.logger.verbose("Status set to complete, temporary cache cleared"),this.inCookie&&(this.logger.verbose("InCookie is true, setting authorityKey in cookie"),this.cacheStorage.setItemCookie(i,"",-1),this.cacheStorage.clearMsalCookie(t.state)),r)throw r;if(!o)throw O.createUnexpectedError("Response is null");return o},e.prototype.populateAuthority=function(e,t,r,o){this.logger.verbose("PopulateAuthority has been called");var n=Z.generateAuthorityKey(e),i=r.getItem(n,t);return P.isEmpty(i)?i:M.replaceTenantPath(i,o.tenantId)},e.prototype.getAccount=function(){if(this.account)return this.account;var e=this.cacheStorage.getItem(y.IDTOKEN,this.inCookie),t=this.cacheStorage.getItem(y.CLIENT_INFO,this.inCookie);if(!P.isEmpty(e)&&!P.isEmpty(t)){var r=new J(e),o=new B(t,"");return this.account=ee.createAccount(r,o),this.account}return null},e.prototype.getAccountState=function(e){if(e){var t=e.indexOf(g.resourceDelimiter);if(t>-1&&t+1<e.length)return e.substring(t+1)}return e},e.prototype.getAllAccounts=function(){for(var e=[],t=this.cacheStorage.getAllAccessTokens(g.clientId,g.homeAccountIdentifier),r=0;r<t.length;r++){var o=new J(t[r].value.idToken),n=new B(t[r].value.homeAccountIdentifier,""),i=ee.createAccount(o,n);e.push(i)}return this.getUniqueAccounts(e)},e.prototype.getUniqueAccounts=function(e){if(!e||e.length<=1)return e;for(var t=[],r=[],o=0;o<e.length;++o)e[o].homeAccountIdentifier&&-1===t.indexOf(e[o].homeAccountIdentifier)&&(t.push(e[o].homeAccountIdentifier),r.push(e[o]));return r},e.prototype.broadcast=function(e,t){var r=new CustomEvent(e,{detail:t});window.dispatchEvent(r)},e.prototype.getCachedTokenInternal=function(e,t,r,o){var n=t||this.getAccount();if(!n)return null;var i=this.authorityInstance?this.authorityInstance:oe.CreateInstance(this.authority,this.config.auth.validateAuthority),a=this.getTokenType(n,e),s=new K(i,this.clientId,a,this.getRedirectUri(),e,r,o);return this.getCachedToken(s,t)},e.prototype.getScopesForEndpoint=function(e){if(this.config.framework.unprotectedResources.length>0)for(var t=0;t<this.config.framework.unprotectedResources.length;t++)if(e.indexOf(this.config.framework.unprotectedResources[t])>-1)return null;if(this.config.framework.protectedResourceMap.size>0)for(var r=0,o=Array.from(this.config.framework.protectedResourceMap.keys());r<o.length;r++){var n=o[r];if(e.indexOf(n)>-1)return this.config.framework.protectedResourceMap.get(n)}return e.indexOf("http://")>-1||e.indexOf("https://")>-1?M.getHostFromUri(e)===M.getHostFromUri(this.getRedirectUri())?new Array(this.clientId):null:new Array(this.clientId)},e.prototype.getLoginInProgress=function(){return this.cacheStorage.isInteractionInProgress(!0)},e.prototype.setInteractionInProgress=function(e){this.cacheStorage.setInteractionInProgress(e)},e.prototype.setloginInProgress=function(e){this.setInteractionInProgress(e)},e.prototype.getAcquireTokenInProgress=function(){return this.cacheStorage.isInteractionInProgress(!0)},e.prototype.setAcquireTokenInProgress=function(e){this.setInteractionInProgress(e)},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.getRedirectUri=function(e){return e||("function"===typeof this.config.auth.redirectUri?this.config.auth.redirectUri():this.config.auth.redirectUri)},e.prototype.getPostLogoutRedirectUri=function(){return"function"===typeof this.config.auth.postLogoutRedirectUri?this.config.auth.postLogoutRedirectUri():this.config.auth.postLogoutRedirectUri},e.prototype.getCurrentConfiguration=function(){if(!this.config)throw L.createNoSetConfigurationError();return this.config},e.prototype.getTokenType=function(e,t){var r=ee.compareAccounts(e,this.getAccount());return K.determineResponseType(r,t)},e.prototype.setAccountCache=function(e,t){var r=e?this.getAccountId(e):g.no_account,o=Z.generateAcquireTokenAccountKey(r,t);this.cacheStorage.setItem(o,JSON.stringify(e))},e.prototype.setAuthorityCache=function(e,t){var r=Z.generateAuthorityKey(e);this.cacheStorage.setItem(r,M.CanonicalizeUri(t),this.inCookie)},e.prototype.updateCacheEntries=function(e,t,r,o){o&&this.cacheStorage.setItem(Z.generateTemporaryCacheKey(m.LOGIN_REQUEST,e.state),o,this.inCookie),r?this.cacheStorage.setItem(Z.generateTemporaryCacheKey(m.STATE_LOGIN,e.state),e.state,this.inCookie):this.setAccountCache(t,e.state),this.setAuthorityCache(e.state,e.authority),this.cacheStorage.setItem(Z.generateTemporaryCacheKey(m.NONCE_IDTOKEN,e.state),e.nonce,this.inCookie)},e.prototype.getAccountId=function(e){var t;return t=P.isEmpty(e.homeAccountIdentifier)?g.no_account:e.homeAccountIdentifier,t},e.prototype.buildIDTokenRequest=function(e){var t={scopes:g.oidcScopes,authority:this.authority,account:this.getAccount(),extraQueryParameters:e.extraQueryParameters,correlationId:e.correlationId};return t},e.prototype.getTelemetryManagerFromConfig=function(e,t){if(!e)return We.getTelemetrymanagerStub(t,this.logger);var r=e.applicationName,o=e.applicationVersion,n=e.telemetryEmitter;if(!r||!o||!n)throw L.createTelemetryConfigError(e);var i={applicationName:r,applicationVersion:o},a={platform:i,clientId:t};return new We(a,n,this.logger)},e}(),Je=r("cee4"),Ye={auth:{grant_type:"client_credentials",clientId:"72095d19-16c0-4354-b43a-605ffc55cf78",authority:"https://login.microsoftonline.com/a2ab47da-3b49-4f99-be15-0cc2cd3ec287",redirectUri:"https://omp.mudunuru.com:9446/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}},$e=r("34b5");Je["a"].defaults.headers.common["Access-Control-Allow-Origin"]="*";var Xe={name:"login",data:function(){return{accessToken:"",idToken:"",secretToken:"",name:"",email:""}},methods:{msalLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={scopes:["openid","profile"],expiresIn:600},o=new ze(Ye),o.loginPopup(r).then((function(t){console.log("Login success:",t),e.accessToken=t.idToken.rawIdToken,e.idToken=t.idToken.rawIdToken,e.name=t.idToken.name,e.email=t.idToken.preferredName,Je["a"].get($e["a"].url.server_url+"api/get-token").then((function(t){console.log("Check user status"),console.log(t.data);var r=t.data;console.log(r),e.secretToken=r.access_token;var o={token:e.idToken,name:e.name,email:e.preferredName,secretToken:e.secretToken};console.log(o),localStorage.setItem("userData",JSON.stringify(o)),localStorage.setItem("isAuthenticated",!0),window.location.href="/#/dashboard",window.location.reload()})).catch((function(e){console.log(e),console.log(e.response)}))})).catch((function(e){console.log("Login error:",e)}));case 3:case"end":return t.stop()}}),t)})))()}}},Ze=Xe,et=(r("3521"),r("2877")),tt=r("6544"),rt=r.n(tt),ot=r("8336"),nt=r("b0af"),it=r("99d9"),at=r("62ad"),st=r("a523"),ct=(r("4de4"),r("7db0"),r("4160"),r("caad"),r("07ac"),r("2532"),r("159b"),r("5530")),ut=r("58df"),lt=r("7e2b"),ht=r("3206"),dt=Object(ut["a"])(lt["a"],Object(ht["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,r=function(e){return e.$watch("hasError",(function(r){t.$set(t.errorBag,e._uid,r)}),{immediate:!0})},o={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?o.shouldValidate=e.$watch("shouldValidate",(function(n){n&&(t.errorBag.hasOwnProperty(e._uid)||(o.valid=r(e)))})):o.valid=r(e),o},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var r=this.watchers.find((function(e){return e._uid===t._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(ct["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}),pt=r("adda"),gt=r("0fd9"),ft=Object(et["a"])(Ze,o,n,!1,null,"9de05cb2",null);t["default"]=ft.exports;rt()(ft,{VBtn:ot["a"],VCard:nt["a"],VCardText:it["b"],VCol:at["a"],VContainer:st["a"],VForm:dt,VImg:pt["a"],VRow:gt["a"]})},eda6:function(e,t,r){}}]);
//# sourceMappingURL=chunk-78a72de6.b8219459.js.map